<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=UTF-8">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Space Mono';
	font-size: 8pt;
	color: #B9B4D6;
}
.sc0 {
}
.sc1 {
	color: #AEAEAE;
	background: #1F1126;
}
.sc2 {
	color: #AEAEAE;
	background: #1F1126;
}
.sc3 {
	color: #AEAEAE;
	background: #1F1126;
}
.sc4 {
	color: #D8FA3C;
	background: #1F1126;
}
.sc5 {
	color: #FBDE2D;
	background: #1F1126;
}
.sc6 {
	color: #61CE3C;
	background: #1F1126;
}
.sc7 {
	color: #61CE3C;
	background: #1F1126;
}
.sc9 {
	color: #FBDE2D;
	background: #1F1126;
}
.sc10 {
	color: #FBDE2D;
	background: #1F1126;
}
.sc11 {
	color: #F8F8F8;
	background: #1F1126;
}
.sc12 {
}
.sc14 {
	color: #61CE3C;
	background: #1F1126;
}
.sc15 {
	color: #AEAEAE;
	background: #1F1126;
}
.sc16 {
	color: #FBDE2D;
	background: #1F1126;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #131126; "><span class="sc2">// Docs for 2.53.1
// Rev. 0.8.0; 3rd March, 2020
</span><span class="sc0">
</span><span class="sc11">Search</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">find</span><span class="sc0"> </span><span class="sc11">areas</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">require</span><span class="sc0"> </span><span class="sc11">completion</span><span class="sc10">.</span><span class="sc0"> 


</span><span class="sc2">//===================================================================================
//                 --- ZScript built-in functions and variables ---
//===================================================================================
</span><span class="sc1">/*
*   These functions are all INTERNAL to ZQuest. They require no header
*   or other import directives to work, and are all direct representations
*   of ZASM instructions. 
*
*   These functions and commands are the BASIC BUILDING BLOCKS of ZScript:
*   While they require no other functions to work, ALL other functions 
*   in headers (such as std.zh) RELY, and OPERATE using these functions.
*
* Thus, it is essential to know what each of these does, how they work,
*   and how to use them. 
*
*   For other included functions, that are not internal (i.e. external functions)
*   please read the documentation specific to  each header. These are individual 
*   files (e.g. std.txt), however if you wish to view all the pre-packaged ZScript
*   functions, and commands, you may view the EXTENDED DOCUMENTATION, as
*   those documentation files contain all of the 'Essential ZScript' that
*   you will want to use.
*
*   Where possible, the ZASM instruction used by the functions, and the
*   commands detailed herein are listed inline with the entry for the related
*   function / command. Full (public) ZASM documentation is, sadly incomplete.
*
*   Note: Functions and variables other than global functions are properties
*   of **objects**. Objects are divided into TYPED POINTER CLASSes, and the 
*   the syntax for using them is:
*
*   [object name]-&gt;[property]
*
*   where "[object name]" is the object's name (e.g. Link, Game, Screen)/
*   and "[property]" is the function. 
* 
*   Example:
*   void GetCurDMap() is a Game property, and is called as:
*
*   Game-&gt;GetCurDMap();
*
*   "Link", "Screen" and "Game" are always available and don't need to be 
*   instantiated, while you must initialise other classes, such as ffc, item,
*   and npc.
*
*   ZScript functions are of the types: int, float, bool, and void. Of these,
*   only void does not return a value. (The void type is normally used to run
*   a series of instructions, or to set values). The other types retrun values
*   appropriate to their type.
*
*   Note: In the following, "int" indicates that a parameter is truncated by a 
*   function to an integer, or that the return value will always be an integer 
*   however, ZScript itself makes no distinction between int and float types.
*/</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//////////////////
</span><span class="sc15">/// ZASM Flags ///
</span><span class="sc2">//////////////////
</span><span class="sc0">
</span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">uses</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">series</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">special</span><span class="sc0"> </span><span class="sc11">flags</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">determine</span><span class="sc0"> </span><span class="sc11">how</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">follow</span><span class="sc0"> </span><span class="sc11">logical</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc10">,</span><span class="sc0">
</span><span class="sc11">including</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">SCRIPT</span><span class="sc0"> </span><span class="sc11">FLAGS</span><span class="sc0">
</span><span class="sc11">TRUEFLAG</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">condition</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0">
</span><span class="sc11">MOREFLAG</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">manually</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">FALSEFLAG</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">namually</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">LESSFLAG</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">manually</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Instructions</span><span class="sc0">
</span><span class="sc11">SETTRUE</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Set</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">TRUEFLAG</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc11">SETTRUE</span><span class="sc0"> </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc11">condition</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Assembler</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">COMPARERV</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">COMPARER</span><span class="sc0"> </span><span class="sc11">validate</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">used</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc11">making</span><span class="sc0"> </span><span class="sc11">statements</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">SETFALSE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Set</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">FALSEFLAG</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">SETMORE</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Set</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">FLag</span><span class="sc0"> </span><span class="sc11">MOREFLAG</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">SETLESS</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Set</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">LESSFLAG</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">flags</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">used</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">evaluation</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">determine</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Examples</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">these</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">follows</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">GOTOTRUE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Executes</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">TRUEFLAG</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">enabled</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">GOTOFALSE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Executes</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">FALSEFLAG</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">enabled</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">GOTOMORE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Executes</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">MOREFLAG</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">enabled</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">GOTOLESS</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Executes</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0"> </span><span class="sc11">LESSFLAG</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">enabled</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">In</span><span class="sc0"> </span><span class="sc11">contrast</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc10">/</span><span class="sc11">GOTOR</span><span class="sc0"> </span><span class="sc11">ignore</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">flags</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">conditions</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">always</span><span class="sc0"> </span><span class="sc11">compiles</span><span class="sc0"> </span><span class="sc11">down</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">GOTOR</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">GOTOTRUE</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">FLAG</span><span class="sc10">-</span><span class="sc11">typed</span><span class="sc0"> </span><span class="sc11">GOTO</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">valid</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">serve</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">useful</span><span class="sc0"> </span><span class="sc11">purpose</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">GOTOLESS</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">GOTOMORE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">GOTOFALSE</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">effectively</span><span class="sc0"> </span><span class="sc11">deprecated</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc2">//================================================== =====
//--- Instruction Processing Order and General Timing ---
</span><span class="sc10">==================================================</span><span class="sc0"> </span><span class="sc10">=======</span><span class="sc0">

</span><span class="sc4">1.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">Global</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">Init</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">starting</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc10">)</span><span class="sc0">
</span><span class="sc4">2.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">Global</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">OnContinue</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">resuming</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc10">)</span><span class="sc0">
</span><span class="sc4">3.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">FFCs</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">init</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">excluding</span><span class="sc0"> </span><span class="sc11">draw</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc10">.</span><span class="sc0">
    </span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">handled</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc10">-</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">basis</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc11">order</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">runs</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">up</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">32.</span><span class="sc0"> </span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">skipped</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">4.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">immediately</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">just</span><span class="sc0"> </span><span class="sc11">loaded</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">5.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc12">'s infinite loop prior to Waitdraw,
</span><span class="sc4">6.</span><span class="sc0">  </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">positioned</span><span class="sc0"> </span><span class="sc11">after</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">previous</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">.</span><span class="sc0">
    </span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Requires</span><span class="sc0"> </span><span class="sc11">being</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">least</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">second</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc0"> </span><span class="sc11">session</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">7.</span><span class="sc0">  </span><span class="sc11">Screen</span><span class="sc0"> </span><span class="sc11">bitmap</span><span class="sc0"> </span><span class="sc11">drawing</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">8.</span><span class="sc0">  </span><span class="sc11">Enqueued</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Drawing</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">ffcs</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">previous</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">).</span><span class="sc0">
</span><span class="sc4">9.</span><span class="sc0">  </span><span class="sc11">Drawing</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">prior</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">().</span><span class="sc0">
</span><span class="sc4">10.</span><span class="sc0">   </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">excluding</span><span class="sc0"> </span><span class="sc11">draw</span><span class="sc0"> </span><span class="sc11">commands</span><span class="sc10">.</span><span class="sc0">
    </span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">handled</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc10">-</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">basis</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc11">order</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">runs</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">up</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">32.</span><span class="sc0"> </span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">skipped</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">11.</span><span class="sc0">   </span><span class="sc11">Screen</span><span class="sc0"> </span><span class="sc11">Scrolling</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">2.50.2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">later</span><span class="sc10">)</span><span class="sc0">
</span><span class="sc4">12.</span><span class="sc0">   </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">13.</span><span class="sc0">   </span><span class="sc11">Engine</span><span class="sc0"> </span><span class="sc11">writing</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">Dir</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">Tile</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">14.</span><span class="sc0">   </span><span class="sc11">FFCs</span><span class="sc0"> </span><span class="sc11">enqueue</span><span class="sc0"> </span><span class="sc11">draws</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">next</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">.</span><span class="sc0">
    </span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">handled</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc10">-</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">basis</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc11">order</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">runs</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">up</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">32.</span><span class="sc0"> </span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">skipped</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">15.</span><span class="sc0">   </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">action</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">16.</span><span class="sc0">   </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">collect</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">17.</span><span class="sc0">   </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">called</span><span class="sc0"> </span><span class="sc11">after</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc4">17</span><span class="sc10">(</span><span class="sc11">b</span><span class="sc10">).</span><span class="sc0">  </span><span class="sc11">Screen</span><span class="sc0"> </span><span class="sc11">Scrolling</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc4">2.50.0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc4">2.50.1</span><span class="sc0"> </span><span class="sc10">)]</span><span class="sc0">
</span><span class="sc4">18.</span><span class="sc0">   </span><span class="sc11">Instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">OnExit</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">exiting</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">19.</span><span class="sc0">   </span><span class="sc11">Return</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">3</span><span class="sc10">).</span><span class="sc0">


</span><span class="sc2">//=================
//--- Pointers ---
//=================
</span><span class="sc0">
</span><span class="sc11">Global</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">start</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc4">4096</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">when</span><span class="sc0"> </span><span class="sc11">traced</span><span class="sc10">).</span><span class="sc0"> </span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">added</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">escalating</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">reverse</span><span class="sc10">-</span><span class="sc11">order</span><span class="sc0">
</span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">g</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">last</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc0"> </span><span class="sc4">4096.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">////////////////////////
</span><span class="sc15">/// Operator Symbols ///
</span><span class="sc2">////////////////////////
</span><span class="sc0">
</span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">supports</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">input</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">decimal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">hexidecimal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">To</span><span class="sc0"> </span><span class="sc11">input</span><span class="sc0"> </span><span class="sc11">hexidecimal</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">preface</span><span class="sc0"> </span><span class="sc11">them</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc7">'0x'</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'0x0F'</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc7">'16'</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">To</span><span class="sc0"> </span><span class="sc11">input</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc0"> </span><span class="sc11">balues</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">end</span><span class="sc0"> </span><span class="sc11">them</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">lowercase</span><span class="sc0"> </span><span class="sc7">'b'</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'11b'</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc7">'3'</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">Name</span><span class="sc0">    </span><span class="sc11">Sign</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">R</span><span class="sc10">)</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">V</span><span class="sc10">)</span><span class="sc0">  </span><span class="sc11">Definition</span><span class="sc0">
</span><span class="sc11">PLUS</span><span class="sc0">    </span><span class="sc10">+</span><span class="sc0">   </span><span class="sc11">ADDR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">ADDV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">Adds</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc0">
</span><span class="sc11">MINUS</span><span class="sc0">   </span><span class="sc10">-</span><span class="sc0">   </span><span class="sc11">SUBR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">SUBV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">Subtracts</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc0">
</span><span class="sc11">INCREMENT</span><span class="sc0"> </span><span class="sc10">++</span><span class="sc0">            </span><span class="sc11">Increments</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc7">'1'</span><span class="sc0">
</span><span class="sc11">DECREMENT</span><span class="sc0"> </span><span class="sc10">--</span><span class="sc0">            </span><span class="sc11">Decreases</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc7">'1'</span><span class="sc0">
</span><span class="sc11">MULTIPLY</span><span class="sc0">  </span><span class="sc10">*</span><span class="sc0">   </span><span class="sc11">MULTR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">MULTV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">Multiplies</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0">
</span><span class="sc11">DIVIDE</span><span class="sc0">    </span><span class="sc10">/</span><span class="sc0">   </span><span class="sc11">DIVR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">DIVV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">Divides</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0">
</span><span class="sc11">MODULUS</span><span class="sc0">   </span><span class="sc10">%</span><span class="sc0">           </span><span class="sc11">Returns</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">remainder</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">integer</span><span class="sc0"> </span><span class="sc11">division</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc0"> </span><span class="sc10">%</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc0">
</span><span class="sc11">NOT</span><span class="sc0">   </span><span class="sc10">!</span><span class="sc0">   </span><span class="sc11">NOT</span><span class="sc10">&lt;&gt;</span><span class="sc0">       </span><span class="sc11">Inverse</span><span class="sc0"> </span><span class="sc11">logic</span><span class="sc0"> </span><span class="sc11">boolean</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc10">.</span><span class="sc0"> 
              </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc11">var1</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">var1</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">zero</span><span class="sc10">,</span><span class="sc0"> 
              </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">var1</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">non</span><span class="sc10">-</span><span class="sc11">zero</span><span class="sc0">
</span><span class="sc11">EQUALS</span><span class="sc0">    </span><span class="sc10">=</span><span class="sc0">   </span><span class="sc11">SETR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">SETV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">another</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc0">
</span><span class="sc11">EXACTLY</span><span class="sc0"> </span><span class="sc11">EQUALS</span><span class="sc0">  </span><span class="sc10">==</span><span class="sc0">            </span><span class="sc11">Compares</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">they</span><span class="sc0"> </span><span class="sc11">match</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">NOT</span><span class="sc0"> </span><span class="sc11">EQUALS</span><span class="sc0">  </span><span class="sc10">!=</span><span class="sc0">            </span><span class="sc11">Compares</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">they</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">match</span><span class="sc10">,</span><span class="sc0">
</span><span class="sc11">LESSTHAN</span><span class="sc0">  </span><span class="sc10">&lt;</span><span class="sc0">           </span><span class="sc11">Comapres</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">less</span><span class="sc0"> </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">MORETHAN</span><span class="sc0">  </span><span class="sc10">&gt;</span><span class="sc0">           </span><span class="sc11">Compares</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">LOGICAL</span><span class="sc0"> </span><span class="sc11">OR</span><span class="sc0">  </span><span class="sc10">||</span><span class="sc0">            </span><span class="sc11">Boolean</span><span class="sc0"> </span><span class="sc11">logic</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Or</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">LOGICAL</span><span class="sc0"> </span><span class="sc11">AND</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0">            </span><span class="sc11">Boolean</span><span class="sc0"> </span><span class="sc11">Logic</span><span class="sc0"> </span><span class="sc11">And</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">SET</span><span class="sc0"> </span><span class="sc11">ADDRESS</span><span class="sc0"> </span><span class="sc11">ARG</span><span class="sc0">   </span><span class="sc11">SETA1</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
      </span><span class="sc11">SETA2</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GET</span><span class="sc0"> </span><span class="sc11">ADDRESS</span><span class="sc0"> </span><span class="sc11">ARG</span><span class="sc0">   </span><span class="sc11">GETA1</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
      </span><span class="sc11">GETA2</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">LOGICAL</span><span class="sc0"> </span><span class="sc11">XOR</span><span class="sc0"> </span><span class="sc10">(^^)</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">valid</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">simulate</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">custom</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">.</span><span class="sc0"> 


</span><span class="sc2">/////////////////////////
</span><span class="sc15">/// Bitwise Operators ///
</span><span class="sc2">/////////////////////////
</span><span class="sc0">
</span><span class="sc11">Reminder</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">numeric</span><span class="sc0"> </span><span class="sc11">sequence</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ending</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc7">'b'</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc4">0100010b</span><span class="sc0">
  </span><span class="sc10">(</span><span class="sc7">'34'</span><span class="sc0"> </span><span class="sc11">decimal</span><span class="sc10">)</span><span class="sc0">
        
</span><span class="sc11">Or</span><span class="sc0">  </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">|</span><span class="sc0">     </span><span class="sc11">ORV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">ORR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        
</span><span class="sc11">And</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">&amp;</span><span class="sc0">     </span><span class="sc11">ANDR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">ANDV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
  
</span><span class="sc11">Not</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">~</span><span class="sc0">     </span><span class="sc11">BITNOT</span><span class="sc10">&lt;&gt;</span><span class="sc0">

</span><span class="sc11">Left</span><span class="sc0"> </span><span class="sc11">Shift</span><span class="sc10">:</span><span class="sc0">   
  </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0">
  </span><span class="sc10">&lt;&lt;</span><span class="sc0">      </span><span class="sc11">LSHIFTV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">LSHIFTR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc11">Right</span><span class="sc0"> </span><span class="sc11">Shift</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc0">
  </span><span class="sc10">&gt;&gt;</span><span class="sc0">      </span><span class="sc11">RSHIFTV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">RSHIFTR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        
</span><span class="sc11">Xor</span><span class="sc0">   </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">^</span><span class="sc0">     </span><span class="sc11">XORV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">XORR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc11">Nor</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">~|</span><span class="sc0">      </span><span class="sc11">NORV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">NORR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc11">XNor</span><span class="sc0">  </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">~^</span><span class="sc0">      </span><span class="sc11">XNORV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">XNORV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc11">Nand</span><span class="sc0">  </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instructions</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc10">~&amp;</span><span class="sc0">      </span><span class="sc11">NANDV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">NANDR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">//========================
//--- Global Functions ---
//========================
</span><span class="sc0">
</span><span class="sc2">/////////////////////////
</span><span class="sc15">/// General Functions ///
</span><span class="sc2">/////////////////////////
</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">();</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">WAITDRAW</span><span class="sc0">
</span><span class="sc3">/**
* Halts execution of the script until ZC's internal code has been run (movement,
* collision detection, etc.), but before the screen is drawn. This can only
* be used in the active global script.
* Waitdraw() may only be called from the global active script; not from FFC scripts.
* The sequence of ZC actions is as follows:

* FFCs (in numerical sequence, from FFC 01, to FFC 32)
* Enemies
* EWeapons
* Link
* LWeapons
* Hookshot
* Collision Checking
* Store Link-&gt;Input / Link-&gt;Press
* Waitdraw()
* Drawing
* Rendering of the Screen
* Screen Scrolling
* Drawing from FFCs
*
* Note: Drawing from FFCs technically occurs with other Drawing, but as it is issued after Waitdraw(),  
* it is offset (a frame late) and renders after screen scrolling, and after any other drawing in the same 
* frame as draw instructions from ffcs are called. To ensure that drawing done by ffcs is in sync with 
* other drawing, it is imperative to call it from your global script, using the ffc to trigger global 
* conditions that cause global drawing instructions that are called before Waitdraw() in your global 
* active script to evaluate true. 
*
* Anything placed after Waitdraw() will not present graphical effects until the next frame. 
* It is possible { ! CHECK } to read/store Link-&gt;Tile, Link-&gt;Dir and other variables *after* Waitdraw()
* in one frame, and then use these values to modify other pointer members so that they are drawn correctly
* at the next execution of Waitdraw().
*
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">Waitdraw</span><span class="sc10">();</span><span class="sc0">
  
</span><span class="sc15">//! Submit bug report that Link-&gt;Dir and Link-&gt;Tile are incorrect before Waitdraw. 
</span><span class="sc0">  
</span><span class="sc10">*</span><span class="sc2">//////////////////////////////
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">--------------------------</span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Althouth</span><span class="sc0"> </span><span class="sc11">technically</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">*.</span><span class="sc0"> </span><span class="sc11">Doing</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">effects</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc10">/</span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">consequences</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">1.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">Compiler</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">report</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">print</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Allegro</span><span class="sc0"> </span><span class="sc11">log</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc7">'Warning: Waitdraw() may only be used in global scripts.'</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">2.</span><span class="sc0"> </span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">sint</span><span class="sc0"> </span><span class="sc11">he</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">called</span><span class="sc0"> </span><span class="sc11">before</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0">    </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">after</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">3.</span><span class="sc0"> </span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc0"> </span><span class="sc11">called</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">after</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">BEFORE</span><span class="sc0"> </span><span class="sc11">BOTH</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0">    </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">BEFORE</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc12">'s infinite loop. 
</span><span class="sc10">*</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">behaviour</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">future</span><span class="sc0"> </span><span class="sc11">versions</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">ZC</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">advised</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc10">*</span><span class="sc2">///////////////////////////////
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">---------------------------</span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Althouth</span><span class="sc0"> </span><span class="sc11">technically</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">sctipt</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Doing</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">effects</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc10">/</span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">consequences</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">1.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">Compiler</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">report</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">print</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Allegro</span><span class="sc0"> </span><span class="sc11">log</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc7">'Warning: Waitdraw() may only be used in global scripts.'</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">2.</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">behaviour</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">future</span><span class="sc0"> </span><span class="sc11">versions</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">ZC</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">advised</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Waitframe</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">WAITFRAME</span><span class="sc0">
</span><span class="sc3">/**
* Temporarily halts execution of the current script. This function returns at
* the beginning of the next frame of gameplay.
* Slots 1, 3 and 4 Global scripts and item scripts only execute for one frame,
* so in those scripts Waitframe() is essentially Quit().
* It is safe to call Waitframe in the active global script.
* A Waitframe is required in all infinite loops (e.g. while(true) ) so that ZC may 
* pause to break in order to advance to the next frame, then resume the loop from the start.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">Waitframe</span><span class="sc10">();</span><span class="sc0">
  
</span><span class="sc10">*</span><span class="sc2">///////////////////////////////
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Waitdraw</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">---------------------------</span><span class="sc15">///
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Althouth</span><span class="sc0"> </span><span class="sc11">technically</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">invalid</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">Waitframe</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">sctipt</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Doing</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">effects</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc10">/</span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">consequences</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">1.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">prematurely</span><span class="sc0"> </span><span class="sc11">exit</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">Calling</span><span class="sc0"> </span><span class="sc11">Waitframe</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">effectively</span><span class="sc0"> </span><span class="sc11">identical</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc11">Quit</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">however</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">behaviour</span><span class="sc0"> 
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">future</span><span class="sc0"> </span><span class="sc11">versions</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">ZC</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">Waitframe</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">advised</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Quit</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">QUIT</span><span class="sc0">
</span><span class="sc3">/**
* Terminates execution of the current script. Does not return.
* Caution: If called from a global script, the script itself exits.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">Quit</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">////////////////////
</span><span class="sc15">/// Modify Tiles ///
</span><span class="sc2">////////////////////
</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">CopyTile</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">srctile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">desttile</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
              </span><span class="sc11">COPYTILERR</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
              </span><span class="sc11">COPYTILEVV</span><span class="sc0">
              </span><span class="sc11">COPYTILERV</span><span class="sc0">
              </span><span class="sc11">COPYTILEVR</span><span class="sc0">
</span><span class="sc3">/**
* Copies the tile specified by scrtile onto the tile space
* specified by desttile. The valid tile value range is 0 to 65519.
* This change is temporary within the quest file
* and not be retained when saving the game.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">CopyTile</span><span class="sc10">(</span><span class="sc4">312</span><span class="sc10">,</span><span class="sc4">11614</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Copies</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">312</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">11614.</span><span class="sc0"> </span><span class="sc11">Tiles</span><span class="sc0"> </span><span class="sc4">312</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc4">11614</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">identical</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/** TIP **
* CopyTile may be used to change Link's tile, by copying a tile onto whatever tile ZC is
* using as a source for Link-&gt;Tile
* Thus, although you cannot write directly to Link-&gt;Tile, you can write to the actual tile 
* that is being used for this Link attribute, and you can do this for any other game graphic
* that you need to change. 
*
* When doing this, it is important to read Link-&gt;Dir or Link-&gt;Flip, *after* Waitdraw() and 
* perform the CopyTile() operation immediately thereafter. 
*/</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
 
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SwapTile</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">firsttile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">secondtile</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
              </span><span class="sc11">SWAPTILERR</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
              </span><span class="sc11">SWAPTILEVV</span><span class="sc0">
              </span><span class="sc11">SWAPTILEVR</span><span class="sc0">
              </span><span class="sc11">SWAPTILERV</span><span class="sc0">
</span><span class="sc3">/**
* Swaps the two tiles specified by firsttile and secondtile.  
* The valid tile value range is 0 to 65519.
* This change is *TEMPORARY* within the quest file
* and will not be retained when saving the game.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">SwapTile</span><span class="sc10">(</span><span class="sc4">312</span><span class="sc10">,</span><span class="sc4">11614</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc11">Changes</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">11614</span><span class="sc0"> </span><span class="sc11">into</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">312</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">312</span><span class="sc0"> </span><span class="sc11">into</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">11614</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">transposing</span><span class="sc0"> </span><span class="sc11">their</span><span class="sc0"> </span><span class="sc11">positions</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">ClearTile</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">tileref</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
            </span><span class="sc11">CLEARTILER</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
            </span><span class="sc11">CLEARTILEV</span><span class="sc0">
</span><span class="sc3">/**
* Erases the tile specified by tileref.
* This change is temporary within the quest file
* and will not be retained when saving the game.
* Tiles are not / are  (!check!) shifted upward to adjust for the cleared tile. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">ClearTile</span><span class="sc10">(</span><span class="sc4">21362</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Clears</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc0"> </span><span class="sc4">21362</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">blanking</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">colour</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">removing</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">shifting</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">tiles</span><span class="sc0"> 
  </span><span class="sc11">thereafter</span><span class="sc0"> </span><span class="sc11">upward</span><span class="sc0"> </span><span class="sc10">).</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//Overlay Tile
</span><span class="sc0">
</span><span class="sc15">//! ZASM-only for this version of ZC. 
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">OverlayTile</span><span class="sc10">()</span><span class="sc0">

    </span><span class="sc11">OVERLAYTILEVV</span><span class="sc0">
    </span><span class="sc11">OVERLAYTILEVR</span><span class="sc0">
    </span><span class="sc11">OVERLAYTILERV</span><span class="sc0">
    </span><span class="sc11">OVERLAYTILERR</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">///////////////
</span><span class="sc15">/// Tracing ///
</span><span class="sc2">///////////////
</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Trace</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">TRACER</span><span class="sc0"> </span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">TRACEV</span><span class="sc0">
</span><span class="sc3">/**
* Prints a line containing a string representation of val to allegro.log.
* Useful for debugging scripts. You may trace int, and float types. 
* For b oolean values, see TraceB() below.
* Values printed to allegro.log no not incorporate any spacing, or carriage
* returns. You must manually add these into your commands. 
* Int values are not truncated when printed, and will always have four leading 
* zeros after the decimal point. 
* To add new lines (carriange returns), see TraceNL() below. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Trace</span><span class="sc10">(</span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Prints</span><span class="sc0"> </span><span class="sc4">4.000</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">TraceB</span><span class="sc10">(</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">state</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">TRACE2R</span><span class="sc0"> </span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">TRACE2V</span><span class="sc0">
</span><span class="sc3">/**
* Prints a boolean state to allegro.log. Works as trace() above, but prints 'true'
* or 'false' to allegro.log
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">test</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">TraceB</span><span class="sc10">(</span><span class="sc11">test</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Prints</span><span class="sc0"> </span><span class="sc7">'true'</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">TraceToBase</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">,</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">mindigits</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">TRACE3</span><span class="sc0">
</span><span class="sc3">/**
* Prints a line in allegro.log representing 'val' in numerical base 'base',
* where 2 &lt;= base &lt;= 36, with minimum digits 'mindigits'.
* (Base must be at least base-2, and at most, base-36)
* Can be useful for checking hex values or flags ORed together, or just to trace
* an integer value, as Trace() always traces to four decimal places.
* mindigits specifies the minimum number of integer digits to print.
* Unlike Trace(), Decimal values are not printed. TraceToBase *does not* handle floats.
* If you specify a floating point value as arg 'val', it will be Floored before conversion.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">TraceToBase</span><span class="sc10">(</span><span class="sc4">20</span><span class="sc10">,</span><span class="sc4">8</span><span class="sc10">,</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Converts</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">decimal</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">d20</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">-</span><span class="sc4">8</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">o24</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">-</span><span class="sc4">8</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">prints</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc7">'024'</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc0">

  </span><span class="sc11">TraceToBase</span><span class="sc10">(</span><span class="sc4">50</span><span class="sc10">,</span><span class="sc4">16</span><span class="sc10">,</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Converts</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">decimal</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">d50</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">-</span><span class="sc4">16</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">0x32</span><span class="sc0"> </span><span class="sc11">hexadecimal</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">prints</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc7">'0x32'</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">ClearTrace</span><span class="sc10">();</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">TRACE4</span><span class="sc0">
</span><span class="sc3">/**
* Clears allegro.log of all current traces and messages from Zelda Classic/ZQuest.
* Works on a per-quest, per-session basis. Values recorded from previous sessions are not erased.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc0">

  </span><span class="sc11">ClearTrace</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">TraceNL</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
      </span><span class="sc11">TRACE5</span><span class="sc0">
</span><span class="sc3">/**
* Traces a newline to allegro.log
* This inserts a carriage return (as if pressing return/enter) into allegro.log
* and is useful for providing formatting to debugging. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">TraceNL</span><span class="sc10">();</span><span class="sc0">
  </span><span class="sc11">Prints</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">carriage</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">TraceS</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">[]);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">TRACE6</span><span class="sc0"> </span><span class="sc11">d3</span><span class="sc0">
</span><span class="sc3">/**
* Works as Trace() above, but prints a full string to allegro.log, using the array pointer
* (name) as its argument.
* Maximum 512 characters. Functions from string.zh can be used to split larger strings.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">testString</span><span class="sc10">[]=</span><span class="sc6">"This is a string."</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">TraceS</span><span class="sc10">(</span><span class="sc11">testString</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Prints</span><span class="sc0"> </span><span class="sc7">'This is a string.'</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allegro</span><span class="sc10">.</span><span class="sc11">log</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">///////////////////////
</span><span class="sc15">/// Array Functions ///
</span><span class="sc2">///////////////////////
</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">SizeOfArray</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc10">[]);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">ARRAYSIZE</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc0">
</span><span class="sc3">/**
* Returns the index size of the array pointed by 'array'.
* Works only on int, and float type arrays. Boolean arrays are not supported.
* Useful in for loops. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">isAnArray</span><span class="sc10">[</span><span class="sc4">216</span><span class="sc10">];</span><span class="sc0">
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">SizeOfArray</span><span class="sc10">(</span><span class="sc11">isAnArray</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc11">becomes</span><span class="sc0"> </span><span class="sc4">216.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//////////////////////////////
</span><span class="sc15">/// Mathematical Functions ///
</span><span class="sc2">//////////////////////////////
</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Rand</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">n</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">RNDR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">RNDV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Computes and returns a random integer from 0 to n-1,
* or a negative value between n+1 and 0 if 'n' is negative.
*
* Note: The paramater 'n' is an integer, and any floating point (ZScript float)
*       value passed to it will be truncated (floored) to the nearest integer.
*       Rand(3.75) is identical to Rand(3).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">Rand</span><span class="sc10">(</span><span class="sc4">40</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">Produces</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">random</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">between</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc4">39.</span><span class="sc0">
    </span><span class="sc11">Rand</span><span class="sc10">(-</span><span class="sc4">20</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">produces</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">random</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">between</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">19</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc4">0.</span><span class="sc0">
    

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Sin</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">deg</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">SINR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">SINV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Returns the trigonometric sine of the parameter, which is interpreted
* as a degree value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Sin</span><span class="sc10">(</span><span class="sc4">32</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.5299</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Cos</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">deg</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">COSR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">COSV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Returns the trigonometric cosine of the parameter, which is
* interpreted as a degree value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Usage</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Cos</span><span class="sc10">(</span><span class="sc4">40</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.7660</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Tan</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">deg</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">TANR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc11">d2</span><span class="sc10">,</span><span class="sc11">d3</span><span class="sc0">
        </span><span class="sc11">TANV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Returns the trigonometric tangent of the parameter, which is
* interpreted as a degree value. The return value is undefined if
* deg is of the form 90 + 180n for an integral value of n.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Tan</span><span class="sc10">(</span><span class="sc4">100</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">5.6712</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc15">//!Sources: OMultImmediate, OArcSinRegister
</span><span class="sc2">//Is there a direct ZASM instruction equivalent, or does this function run as a routine?
</span><span class="sc0">
</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">RadianSin</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rad</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc3">/**
* Returns the trigonometric sine of the parameter, which is interpreted
* as a radian value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc15">//!Sources: OMultImmediate, OCosRegister
</span><span class="sc2">//Is there a direct ZASM instruction equivalent, or does this function run as a routine?
</span><span class="sc0">
</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">RadianCos</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rad</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc3">/**
* Returns the trigonometric cosine of the parameter, which is
* interpreted as a radian value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">RadianTan</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rad</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc3">/**
* Returns the trigonometric tangent of the parameter, which is
* interpreted as a radian value. The return value is undefined for
* values of rad near (pi/2) + n*pi, for n an integer.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ArcTan</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">ARCTANR</span><span class="sc10">&lt;&gt;</span><span class="sc0">
          </span><span class="sc10">(</span><span class="sc11">Does</span><span class="sc0"> </span><span class="sc11">ARCTANV</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc10">?)</span><span class="sc0">
</span><span class="sc3">/**
* Returns the trigonometric arctangent of the coordinates, which is
* interpreted as a radian value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ArcSin</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">ARCSINR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
          </span><span class="sc11">ARCSINV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Can</span><span class="sc12">'t find this in the source code)
</span><span class="sc0">              </span><span class="sc11">ffasm</span><span class="sc10">.</span><span class="sc11">cpp</span><span class="sc0"> </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc4">217</span><span class="sc0">
</span><span class="sc3">/**
* Returns the trigonometric arcsine of x, which is
* interpreted as a radian value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">ArcCos</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">ARCCOSR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">ARCCOSV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Returns the trigonometric arccosine of x, which is
* interpreted as a radian value.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Max</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">MAXR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">MAXV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns the greater of a and b.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Min</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">b</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instriction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">MINR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">MINV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns the lesser of a and b.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Pow</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">exp</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">POWERR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">POWERV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns base^exp. The return value is undefined for base=exp=0. Note
* also negative values of exp may not be useful, as the return value is
* truncated to the nearest integer.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InvPow</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">base</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">exp</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">IPOWERR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
          </span><span class="sc11">IPOWERV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns base^(1/exp). The return value is undefined for exp=0, or
* if exp is even and base is negative. Note also that negative values
* of exp may not be useful, as the return value is truncated to the
* nearest integer.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Log10</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">LOG10</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns the log of val to the base 10. Any value &lt;= 0 will return 0.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Ln</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">LOGE</span><span class="sc10">&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/**
* Returns the natural logarithm of val (to the base e). Any value &lt;= 0 will return 0.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Factorial</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">FACTORIAL</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Returns val!. val &lt; 0 returns 0.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Abs</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">ABS</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Return the absolute value of the parameter, if possible. If the
* absolute value would overflow the parameter, the return value is
* undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Sqrt</span><span class="sc10">(</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">SQROOTV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
          </span><span class="sc11">SQROOTR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc3">/**
* Computes the square root of the parameter. The return value is
* undefined for val &lt; 0.
* NOTE: Passing negative values to Sqrt() will return an error. See SafeSqrt() in std.zh
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Sqrt</span><span class="sc10">(</span><span class="sc4">16</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">



</span><span class="sc2">//====================================
//--- Game Functions and Variables ---
//====================================
</span><span class="sc0">
                    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Game</span><span class="sc0">

  

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetCurScreen</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CURSCR</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the number of the current screen within the current map.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetCurDMapScreen</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CURDSCR</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the number of the current screen within the current DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetCurLevel</span><span class="sc10">();</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CURLEVEL</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the number of the dungeon level of the current DMap. Multiple
  * DMaps can have the same dungeon level - this signifies that they share
  * a map, compass, level keys and such.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetCurMap</span><span class="sc10">();</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CURMAAP</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the number of the current map.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetCurDMap</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CURDMAP</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the number of the current DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapFlags</span><span class="sc10">[];</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPFLAGSD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers, containing the DMap's flags ORed (|) together.
  * Use the 'DMF_' constants, or the 'DMapFlag()' functions from std.zh if you are not comfortable with binary.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapLevel</span><span class="sc10">[];</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPLEVELD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers containing each DMap's level
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapCompass</span><span class="sc10">[];</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPCOMPASSD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers containing each DMap's compass screen
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapContinue</span><span class="sc10">[];</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPCONTINUED</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers containing each DMap's continue screen
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapMIDI</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPMIDID</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers containing each DMap's MIDI.
  * Positive numbers are for custom MIDIs, and negative values are used for
  * the built-in game MIDIs. Because of the way DMap MIDIs are handled
  * internally, however, built-in MIDIs besides the overworld, dungeon, and
  * level 9 songs won't match up with Game-&gt;PlayMIDI() and Game-&gt;GetMIDI().
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetDMapName</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETDMAPNAME</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads DMap with ID 'DMap's name into 'buffer'.
  * See std_constsnts.zh for appropriate buffer size.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetDMapTitle</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">GETDMAPTITLE</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads DMap with ID 'DMap's title into 'buffer'.
  * See std_constants.zh for appropriate buffer size.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetDMapIntro</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">GETDMAPINTRO</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads DMap with ID 'DMap's intro string into 'buffer'.
  * See std_constants.zh for appropriate buffer size.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapOffset</span><span class="sc10">[];</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPOFFSET</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 512 integers containing the X offset of each DMap.
  * Game-&gt;DMapOffset is read-only; while setting it is not syntactically
  * incorrect, it does nothing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMapMap</span><span class="sc10">[];</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DMAPMAP</span><span class="sc0">

  </span><span class="sc3">/**
  * An array of 512 integers containing the map used by each DMap.
  * Game-&gt;DMapMap is read-only; while setting it is not syntactically
  * incorrect, it does nothing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumDeaths</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEDEATHS</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the number of times Link has perished during this quest.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Cheat</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMECHEAT</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns, or sets the current cheat level of the quest player.
  * Valid values are 0, 1, 2, 3, and 4.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Time</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMETIME</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the time elapsed in this quest, in 60ths of a second. (i.e. in frames). 
  * The return value is undefined if TimeValid is false (see below).
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">TimeValid</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMETIMEVALID</span><span class="sc0">
  </span><span class="sc3">/**
  * True if the elapsed quest time can be determined for the current quest.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">HasPlayed</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEHASPLAYED</span><span class="sc0">
  </span><span class="sc3">/**
  * This value is true if the current quest session was loaded from a saved
  * game, false if the quest was started fresh.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Standalone</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMESTANDALONE</span><span class="sc0">
  </span><span class="sc3">/**
  * This value is true if the game is running in standalone mode, false if not.
  * Game-&gt;Standalone is read-only; while setting it is not syntactically
  * incorrect, it does nothing.
  * 
  * Standalone mode is set by command line params when launching ZC.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GuyCount</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEGUYCOUNT</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of NPCs (enemies and guys) on screen i of this map, where
  * i is the index used to access this array. This array is exclusively used
  * to determine which enemies had previously been killed, and thus won't
  * return, when you re-enter a screen.
  * Note: This is only a count of the enemies that remain on a screen; not their IDs.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ContinueDMap</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMECONTDMAP</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the DMap where Link will be respawned after quitting and reloading the game.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ContinueScreen</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMECONTSCR</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the map screen where Link will be respawned after quitting and reloading the game.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LastEntranceDMap</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEENTRDMAP</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the DMap where Link will be respawned after dying and continuing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LastEntranceScreen</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEENTRSCR</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the map screen where Link will be respawned after dying and continuing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Counter</span><span class="sc10">[];</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMECOUNTERD</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns of sets the current value of the game counters. 
  * Use the CR_ constants in std.zh to index into this array.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MCounter</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEMCOUNTERD</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns or sets the current maximum value of the game counters. 
  * Use the CR_ constants in std.zh to index into this array.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DCounter</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEDCOUNTERD</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns of sets the current value of the game drain counters. 
  * Use the CR_ constants in std.zh to index into this array.
  * Note that if the player hasn't acquired the '1/2 Magic Upgrade' yet,
  * then setting the CR_MAGIC drain counter to a negative value will
  * drain the magic counter by 2 per frame rather than 1.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Generic</span><span class="sc10">[];</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEGENERICD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of miscellaneous game values, such as number of heart
  * containers and magic drain rate. 
  * Use the GEN_ constants in std.zh to index into this array.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc11">byte</span><span class="sc0"> </span><span class="sc11">LItems</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMELITEMSD</span><span class="sc0">
  </span><span class="sc3">/**
  * The exploration items (map, compass, boss key etc.) of dungeon level i
  * currently under the possession of the player, where i is
  * the index used to access this array. Each element of this
  * array consists of flags OR'd (|) together; use the LI_ constants in
  * std.zh to set or compare these values.
  * The valid range of values for this variable is 0 to 255.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc11">byte</span><span class="sc0"> </span><span class="sc11">LKeys</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMELKEYSD</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of level keys of level i currently under the possession of
  * the player, where i is the index used to access this array.
  * The valid range of values for this variable is 0 to 255.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetScreenFlags</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flagset</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETSCREENFLAGS</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the screen flags from screen 'screen' on map 'map',
  * interpreted in the same way as Screen-&gt;Flags
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

  
  </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">LKeys</span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">]+=</span><span class="sc4">4</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">//Gives the player four keys to Level 3.
</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetScreenEFlags</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flagset</span><span class="sc10">);</span><span class="sc0">    
      
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETSCREENEFLAGS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Returns the enemy flags from screen 'screen' on map 'map',
  * interpreted in the same way as Screen-&gt;EFlags
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">GetScreenState</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flag</span><span class="sc10">);</span><span class="sc0">     
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCREENSTATEDD</span><span class="sc0">
  </span><span class="sc3">/**
  * As with State, but retrieves the miscellaneous flags of any screen,
  * not just the current one. This function is undefined if map is less
  * than 1 or greater than the maximum map number of your quest, or if
  * screen is greater than 127.
  * Note: Screen numbers in ZQuest are usually displayed in hexadecimal.
  * Use the ST_ constants in std.zh for the flag parameter.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetScreenState</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flag</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">   
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCREENSTATEDD</span><span class="sc0">
  
  </span><span class="sc3">/**
  * As with State, but sets the miscellaneous flags of any screen, not
  * just the current one. This function is undefined if map is less than
  * 1 or greater than the maximum map number of your quest, or if
  * screen is greater than 127.
  * Note: Screen numbers in ZQuest are usually displayed in hexadecimal.
  * Use the ST_ constants in std.zh for the flag parameter.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">GetScreenD</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">reg</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SDDD</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the value of D[reg] on the given screen of the current
  * DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetScreenD</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">reg</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">

          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SDDD</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets the value of D[reg] on the given screen of the current DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">GetDMapScreenD</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">reg</span><span class="sc10">);</span><span class="sc0">  

          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SDDDD</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the value of D[reg] on the given screen of the given
  * DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetDMapScreenD</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">reg</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0">
        
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SDDDD</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets the value of D[reg] on the given screen of the given DMap.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

  </span><span class="sc11">itemdata</span><span class="sc0"> </span><span class="sc11">LoadItemData</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">);</span><span class="sc0">
  </span><span class="sc11">LOADITEMDATAR</span><span class="sc0">
  </span><span class="sc11">LOADITEMDATAV</span><span class="sc0">
  </span><span class="sc3">/**
  * Retrieves the itemdata pointer corresponding to the given item.
  * Use the item pointer ID variable or I_ constants in std.zh as values.
  */</span><span class="sc0">  </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
    </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">LoadItemData</span><span class="sc10">[</span><span class="sc11">I_BRANG1</span><span class="sc10">]</span><span class="sc0">
  

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">PlaySound</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">soundid</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PLAYSOUNDR</span><span class="sc0">
          </span><span class="sc11">PLAYSOUNDV</span><span class="sc0">
  </span><span class="sc3">/**
  * Plays one of the quest's sound effects. Use the SFX_ constants in
  * std.zh as values of soundid.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">PlayMIDI</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MIDIid</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PLAYMIDIR</span><span class="sc0">
          </span><span class="sc11">PLAYMIDIV</span><span class="sc0">
  </span><span class="sc3">/**
  * Changes the current screen MIDI to MIDIid.
  * Will revert to the DMap (or screen) MIDI upon leaving the screen.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetMIDI</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETMIDI</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the current screen MIDI that is playing.
  * Positive numbers are for custom MIDIs, and negative values are used
  * for the built-in game MIDIs.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PlayEnhancedMusic</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">filename</span><span class="sc10">[],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">track</span><span class="sc10">);</span><span class="sc0">
    
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PLAYENHMUSIC</span><span class="sc0">
  </span><span class="sc3">/**
  * Play the specified enhanced music if it's available. If the music
  * cannot be played, the current music will continue. The music will
  * revert to normal upon leaving the screen.
  * Returns true if the music file was loaded successfully.
  * The filename cannot be more than 255 characters. If the music format
  * does not support multiple tracks, the track argument will be ignored.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> 
  
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">music</span><span class="sc10">[]=</span><span class="sc6">"myfile.mp3"</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">// Make a string with the filename of the music to play.
</span><span class="sc0">    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">PlayEnhancedMusic</span><span class="sc10">(</span><span class="sc11">music</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">PlayMIDI</span><span class="sc10">(</span><span class="sc11">midi_id</span><span class="sc10">);</span><span class="sc0">
    
    </span><span class="sc2">// Plays the enhanced music file 'myfle.mp3', track 1. 
</span><span class="sc0">    </span><span class="sc2">// If the file is mssing, the game will instead play 
</span><span class="sc0">    </span><span class="sc2">// the midi specified as midi_id.
</span><span class="sc0">  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetDMapMusicFilename</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buf</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETMUSICFILE</span><span class="sc0">
  </span><span class="sc3">/**
  * Load the filename of the given DMap's enhanced music into buf.
  * buf should be at least 256 elements in size.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetDMapMusicTrack</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETMUSICTRACK</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the given DMap's enhanced music track. This is valid but
  * meaningless if the music format doesn't support multiple tracks.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetDMapEnhancedMusic</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">filename</span><span class="sc10">[],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">track</span><span class="sc10">);</span><span class="sc0"> 

          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SETDMAPENHMUSIC</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets the specified DMap's enhanced music to the given filename and
  * track number. If the music format does not support multiple tracks,
  * the track argument will be ignored. The filename must not be more
  * than 255 characters.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboData</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">

          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBODDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo reference from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Don't forget that the screen index should be in hexadecimal,
  * and that maps are counted from 1 upwards.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboD[], with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboData</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
      
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBODDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo reference anywhere in the game world,
  * based on map (NOT DMap), screen number, and position.
  * Don't forget that the screen index should be in hexadecimal,
  * and that maps are counted from 1 upwards.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboD[], with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboCSet</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOCDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo's CSet from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboC[], with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboCSet</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOCDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo's CSet anywhere in the game world,
  * based on map (NOT DMap), screen number, and position. Position
  * is considered an index, treated the same way as in Screen-&gt;ComboC[]
  * with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboFlag</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOFDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo's placed flag from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboF[], with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboFlag</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOFDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo's placed flag anywhere in the game world,
  * based on map (NOT DMap), screen number, and position. Position
  * is considered an index, treated the same way as in Screen-&gt;ComboF[]
  * with a legal range of 0 to 175.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboType</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOTDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo's type from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboT[]. Note that you are grabbing an actual combo
  * attribute as referenced by the combo on screen you're
  * referring to.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboType</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOTDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo's type anywhere in the game world,
  * based on map (NOT DMap), screen number, and position. Position
  * is considered an index, treated the same way as in Screen-&gt;ComboT[].
  * Note that you are grabbing an actual combo attribute as referenced
  * by the combo on screen you're referring to, which means that
  * setting this attribute will affect ALL references to this combo
  * throughout the quest.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboInherentFlag</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOIDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo's inherent flag from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboI[]. Note that you are grabbing an actual combo
  * attribute as referenced by the combo on screen you're
  * referring to.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboInherentFlag</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOIDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo's inherent flag anywhere in the game world,
  * based on map (NOT DMap), screen number, and position. Position
  * is considered an index, treated the same way as in Screen-&gt;ComboI[].
  * Note that you are grabbing an actual combo attribute as referenced
  * by the combo on screen you're referring to, which means that
  * setting this attribute will affect ALL references to this combo
  * throughout the quest.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetComboSolid</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOSDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Grabs a particular combo's solidity flag from anywhere in the game
  * world, based on map (NOT DMap), screen number, and position.
  * Position is considered an index, treated the same way as in
  * Screen-&gt;ComboS[]. Note that you are grabbing an actual combo
  * attribute as referenced by the combo on screen you're
  * referring to.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetComboSolid</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">position</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOSDM</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets a particular combo's solidity anywhere in the game world,
  * based on map (NOT DMap), screen number, and position. Position
  * is considered an index, treated the same way as in Screen-&gt;ComboS[].
  * Note that you are grabbing an actual combo attribute as referenced
  * by the combo on screen you're referring to, which means that
  * setting this attribute will affect ALL references to this combo
  * throughout the quest.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboTile</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">combo</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">COMBOTILE</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the tile used by combo 'combo'
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetSaveName</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETSAVENAME</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads the current save file's name into 'buffer'
  * Buffer should be at least 9 elements long
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetSaveName</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SETSAVENAME</span><span class="sc0">
  </span><span class="sc3">/**
  * Sets the current file's save name to 'name'
  * Buffer should be no more than 9 elements
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">End</span><span class="sc10">();</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMEEND</span><span class="sc0">
  </span><span class="sc3">/**
  * IMMEDIATELY ends the current game and returns to the file select screen
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Save</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMESAVE</span><span class="sc0">
  </span><span class="sc3">/**
  * Saves the current game
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">ShowSaveScreen</span><span class="sc10">();</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SAVESCREEN</span><span class="sc0">
  </span><span class="sc3">/**
  * Displays the save screen. Returns true if the user chose to save, false otherwise.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">ShowSaveQuitScreen</span><span class="sc10">();</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SAVEQUITSCREEN</span><span class="sc0">
  </span><span class="sc3">/**
  * Displays the save and quit screen.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetMessage</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETMESSAGE</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads 'string' into 'buffer'. Use the function from std.zh
  * or use string.zh to remove trailing ' ' characters whilst loading.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetFFCScript</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc10">[]);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETFFCSCRIPT</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the number of the script with the given name or -1 if there is
  * no such script. The script name should be passed as a string.
  * (!) This was added around 2.50.0 RC4. Earlier beta versions will not be able to perform this function. 
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">ClickToFreezeEnabled</span><span class="sc10">;</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GAMECLICKFREEZE</span><span class="sc0">
  </span><span class="sc3">/**
  * If this is false, the "Click to Freeze" setting will not function, ensuring
  * that the script can use the mouse freely. This overrides the setting rather
  * than changing it, so remembering and restoring the initial value is unnecessary.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Version</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ZELDAVERSION</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns the version of ZC Player being used to run the quest.
  * (!) This command requires ZC Player 2.53.0 Release 1, or later.
  * (!) Plaing a 2.53.x quest that uses this command in an earler version
  * (!) of ZC Player, will return 0.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//======================================
//--- Screen Functions and Variables ---
//======================================
</span><span class="sc0">
                    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Screen</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">D</span><span class="sc10">[];</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SD</span><span class="sc0">
          </span><span class="sc11">SDD</span><span class="sc0">

        
</span><span class="sc3">/**
* Each screen has 8 general purpose registers for use by script
* programmers. These values are recorded in the save file when the
* player saves their game. Do with these as you will.
* Note that these registers are tied to screen/DMap combinations.
* Encountering the same screen in a different DMap will result in a
* different D[] array.
*
* Values in Screen-&gt;D are preserved through game saving.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Flags</span><span class="sc10">[];</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCREENFLAGSD</span><span class="sc0">
          </span><span class="sc11">SCREENFLAGS</span><span class="sc0">
        
</span><span class="sc3">/**
* An array of ten integers containing the states of the flags in the
* 10 categories on the Screen Data tabs 1 and 2. Each flag is ORed into the
* Flags[x] value, starting with the top flag as the smallest bit.
* Use the SF_ constants as the array acces for this value, and the
* GetScreenFlags function if you are not comfortable with binary.
* This is read-only; while setting it is not syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">EFlags</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCREENEFLAGSD</span><span class="sc0">
          </span><span class="sc11">SCREENEFLAGS</span><span class="sc0">
        
</span><span class="sc3">/**
* An array of 3 integers containing the states of the flags in the
* E.Flags tab of the Screen Data dialog. Each flag is ORed into the
* EFlags[x] value, starting with the top flag as the smallest bit.
* Use the SEF_ constants as the array acces for this value, and the
* GetScreenEFlags function if you are not comfortable with binary.
* This is read-only; while setting it is not syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboD</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CD</span><span class="sc0">###   </span><span class="sc11">COMBOD</span><span class="sc0">  
          </span><span class="sc11">COMBODD</span><span class="sc0">   </span><span class="sc11">COMBODDM</span><span class="sc0">
          </span><span class="sc11">COMBODDM</span><span class="sc0">  </span><span class="sc11">COMBOSD</span><span class="sc0">
          
</span><span class="sc3">/**
* The combo ID of the ith combo on the screen, where i is the index
* used to access this array. Combos are counted left to right, top to
* bottom.
* Screen dimensions are 16 combos wide, by 11 combos high. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboC</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CC</span><span class="sc0">###   </span><span class="sc11">COMBOC</span><span class="sc0">
          </span><span class="sc11">COMBOCD</span><span class="sc0">   </span><span class="sc11">COMBOCDM</span><span class="sc0">
          
</span><span class="sc3">/**
* The CSet of the tile used by the ith combo on the screen, where i is
* the index used to access this array. Combos are counted left to right,
* top to bottom.
* Screen dimensions are 16 combos wide, by 11 combos high. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboF</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CF</span><span class="sc0">###   </span><span class="sc11">COMBOF</span><span class="sc0">
          </span><span class="sc11">COMBOFD</span><span class="sc0">   </span><span class="sc11">COMBOFDM</span><span class="sc0">
          
</span><span class="sc3">/**
* The placed flag of the ith combo on the screen, where i is the index
* used to access this array. Combos are counted left to right, top to
* bottom. Use the CF_ constants in std.zh to set or compare these values.
* Screen dimensions are 16 combos wide, by 11 combos high. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboI</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CI</span><span class="sc0">###   </span><span class="sc11">COMBOID</span><span class="sc0">
              </span><span class="sc11">COMBOIDM</span><span class="sc0">

          
</span><span class="sc3">/**
* The inherent flag of the ith combo on the screen, where i is the index
* used to access this array. Combos are counted left to right, top to
* bottom. Use the CF_ constants in std.zh to set or compare these values.
* Screen dimensions are 16 combos wide, by 11 combos high. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboT</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CT</span><span class="sc0">###   </span><span class="sc11">COMBOTD</span><span class="sc0">
              </span><span class="sc11">COMBOTDM</span><span class="sc0">

          
</span><span class="sc3">/**
* The combo type of the ith combo on the screen, where i is the index
* used to access this array. Combos are counted left to right, top to
* bottom. Use the CT_ constants in std.zh to set or compare these values.
* Screen dimensions are 16 combos wide, by 11 combos high. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ComboS</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CS</span><span class="sc0">###   </span><span class="sc11">COMBOSD</span><span class="sc0">
              </span><span class="sc11">COMBOSDM</span><span class="sc0">

          
</span><span class="sc3">/**
* The walkability mask of the ith combo on the screen, where i is the
* index used to access this array. Combos are counted left to right, top
* to bottom. The least signficant bit is true if the top-left of the combo
* is solid, the second-least signficant bit is true if the bottom-left
* of the combo is is solid, the third-least significant bit is true if the
* top-right of the combo is solid, and the fourth-least significant bit is
* true if the bottom-right of the combo is solid.
* Screen dimensions are 16 combos wide, by 11 combos high.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MovingBlockX</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PUSHBLOCKX</span><span class="sc0">

          
</span><span class="sc3">/**
* The X position of the current moving block. If there is no moving block
* on the screen, it will be -1. This is read-only; while setting it is not
* syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MovingBlockY</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PUSHBLOCKY</span><span class="sc0">
          
</span><span class="sc3">/**
* The Y position of the current moving block. If there is no moving block
* on the screen, it will be -1. This is read-only; while setting it is not
* syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MovingBlockCombo</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PUSHBLOCKCOMBO</span><span class="sc0">

</span><span class="sc3">/**
* The combo used by moving block. If there is no block moving, the value
* is undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MovingBlockCSet</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PUSHBLOCKCSET</span><span class="sc0">

</span><span class="sc3">/**
* The CSet used by moving block. If there is no block moving, the value
* is undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">UnderCombo</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">UNDERCOMBO</span><span class="sc0">

</span><span class="sc3">/**
* The current screen's under combo. 
* !#! Is setting this legal?
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">UnderCSet</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">UNDERCSET</span><span class="sc0">

</span><span class="sc3">/**
* The current screen's under CSet.
* !#! Is setting this legal?
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">State</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCREENSTATED</span><span class="sc0">

</span><span class="sc3">/**
* An array of miscellaneous status data associated with the current
* screen.
* Screen states involve such things as permanent screen secrets, the
* status of lock blocks and treasure chest combos, and whether items have
* been collected.
* These values are recorded in the save file when the player saves their
* game. Use the ST_ constants in std.zh as indices into this array.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Door</span><span class="sc10">[];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SCRDOORD</span><span class="sc0">
          </span><span class="sc11">SCRDOOR</span><span class="sc0">

</span><span class="sc3">/**
* The door type for each of the four doors on a screen. Doors are counted
* using the first four DIR_ constants in std.zh. Use the D_ constants in
* std.zh to compare these values.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">RoomType</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ROOMTYPE</span><span class="sc0">

</span><span class="sc3">/**
* The type of room this screen is (Special Item, Bomb Upgrade, etc)
* This is currently read-only.
* Use the RT_* constants in std.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">RoomData</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ROOMDATA</span><span class="sc0">

</span><span class="sc3">/**
* This is the data associated with the room type above. What it means depends
* on the room type. For Special Item, it will be the item ID, for a Shop, it
* will be the Shop Number, etc.
* Basically, this is what's in the "Catch-all" menu item underneath Room Type.
* If the room type has no data (eg, Ganon's room), this will be undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">TriggerSecrets</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SECRETS</span><span class="sc0"> </span><span class="sc10">?</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/**
* Triggers screen secrets temporarily. Set Screen-&gt;State[ST_SECRET]
* to true beforehand or afterward if you would like them to remain
* permanent.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Screen</span><span class="sc10">-&gt;</span><span class="sc11">TriggerSecrets</span><span class="sc10">();</span><span class="sc0">

  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Lit</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LIT</span><span class="sc0">

</span><span class="sc3">/**
* Whether or not the screen is lit. Setting this variable will change the
* lighting setting of the screen until you change screens.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Wavy</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">WAVY</span><span class="sc0">

</span><span class="sc3">/**
* The time, in frames, that the 'wave' screen effect will be in effect.
* This value is decremented once per frame. As the value of Wavy approaches 0,
* the intensity of the waves decreases.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Quake</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">QUAKE</span><span class="sc0">

</span><span class="sc3">/**
* The time, in frames, that the screen will shake. This value is decremented
* once per frame. As the value of Quake approaches 0, the intensity of the
* screen shaking decreases.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetSideWarp</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
                  </span><span class="sc11">SETSIDEWARP</span><span class="sc0">

</span><span class="sc3">/**
* Sets the current screen's side warp 'warp' to the destination screen,
* DMap and type. If any of the parameters screen, dmap or type are equal
* to -1, they will remain unchanged. If warp is not between 0 and 3, the
* function does nothing.

* Directions match DIR_* in std_constants.zh
* Use constants SIDEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetTileWarp</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dmap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
                  </span><span class="sc11">SETTILEWARP</span><span class="sc0">

</span><span class="sc3">/**
* Sets the current screen's tile warp 'warp' to the destination screen,
* DMap and type. If any of the parameters screen, dmap or type are equal
* to -1, they will remain unchanged. If warp is not between 0 and 3, the
* function does nothing
*
* Warp-Tiles A, B, C, and D are 0, 1, 2, and 3 respectively.
* Use constants TILEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetSideWarpDMap</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETSIDEWARPDMAP</span><span class="sc0">

</span><span class="sc3">/**
* Returns the destination DMap of the given side warp on the current screen.
* Returns -1 if warp is not between 0 and 3.
*
* Side-Warp Directions match DIR_* in std_constants.zh 
* Use constants SIDEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetSideWarpScreen</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETSIDEWARPSCR</span><span class="sc0">

</span><span class="sc3">/**
* Returns the destination screen of the given side warp on the current
* screen. Returns -1 if warp is not between 0 and 3.
*
* Directions match DIR_* in std_constants.zh
* Use constants SIDEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetSideWarpType</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETSIDEWARPTYPE</span><span class="sc0">

</span><span class="sc3">/**
* Returns the warp type of the given side warp on the current screen.
* Returns -1 if warp is not between 0 and 3.
*
* Directions match DIR_* in std_constants.zh
* Use constants SIDEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetTileWarpDMap</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETTILEWARPDMAP</span><span class="sc0">

</span><span class="sc3">/**
* Returns the destination DMap of the given tile warp on the current screen.
* Returns -1 if warp is not between 0 and 3.
*
* Warp-Tiles A, B, C, and D are 0, 1, 2, and 3 respectively.
* Use constants TILEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetTileWarpScreen</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETTILEWARPSCR</span><span class="sc0">

</span><span class="sc3">/**
* Returns the destination screen of the given tile warp on the current
* screen. Returns -1 if warp is not between 0 and 3.
*
* Warp-Tiles A, B, C, and D are 0, 1, 2, and 3 respectively.
* Use constants TILEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetTileWarpType</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">warp</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GETTILEWARPTYPE</span><span class="sc0">

</span><span class="sc3">/**
* Returns the warp type of the given tile warp on the current screen.
* Returns -1 if warp is not between 0 and 3.
*
* Warp-Tiles A, B, C, and D are 0, 1, 2, and 3 respectively.
* Use constants TILEWARP_* in std_constants.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LayerMap</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">n</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LAYERMAP</span><span class="sc0">

</span><span class="sc3">/**
* Returns the map of the screen currently being used as the nth layer.
* Values of n less than 1 or greater than 6, or layers that are not set up,
* returns -1.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LayerScreen</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">n</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LAYERSCREEN</span><span class="sc0">

</span><span class="sc3">/**
* Returns the number of the screen currently being used as the nth layer.
* Values of n less than 1 or greater than 6, or layers that are not set up,
* returns -1.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumItems</span><span class="sc10">();</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMCOUNT</span><span class="sc0">

</span><span class="sc3">/**
* Returns the number of items currently present on the screen. Screen
* items, shop items, and items dropped by enemies are counted; Link's
* weapons, such as lit bombs, or enemy weapons are not counted.
* Note that this value is only correct up until the next call to
* Waitframe().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">LoadItem</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">num</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LOADITEMR</span><span class="sc0">
          </span><span class="sc11">LOADITEMV</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the numth item on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= NumItems().
*
* Attempting to return an invalid item pointer will print an error to allegro.log. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">CreateItem</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">id</span><span class="sc10">);</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CREATEITEMV</span><span class="sc0">
          </span><span class="sc11">CREATEITEMR</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the numth FFC on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= ffcs, where ffcs is the number
* of FFCs active on the screen.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">LoadFFC</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">num</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETFFCSCRIPT</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the numth FFC on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= ffcs, where ffcs is the number
* of FFCs active on the screen.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumNPCs</span><span class="sc10">();</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCCOUNT</span><span class="sc0">

</span><span class="sc3">/**
* Returns the number of NPCs (enemies and guys) on the screen.
* Note that this value is only correct up until the next call to
* Waitframe().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">npc</span><span class="sc0"> </span><span class="sc11">LoadNPC</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">num</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LOADNPCR</span><span class="sc0">
          </span><span class="sc11">LOADNPCV</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the numth NPC on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= NumNPCs().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc11">npc</span><span class="sc0"> </span><span class="sc11">CreateNPC</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">id</span><span class="sc10">);</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CREATENPCR</span><span class="sc0">
          </span><span class="sc11">CREATENPCV</span><span class="sc0">

</span><span class="sc3">/**
* Creates an npc of the given type at (0,0). Use the NPC_ constants in
* std.zh to pass into this method. The return value is a pointer to the
* new NPC.
* The maximum number of NPCs on any given screen is 255. ZC will report an
* error to allegro.log if you try to create NPCs after reaching that maximum.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumLWeapons</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNCOUNT</span><span class="sc0">

</span><span class="sc3">/**
* Returns the number of Link weapon projectiles currently present on the screen.
* This includes things like Link's arrows, bombs, magic, etc. Note that this
* value is only correct up until the next call of Waitframe().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc11">lweapon</span><span class="sc0"> </span><span class="sc11">LoadLWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">num</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LOADLWEAPONR</span><span class="sc0">
          </span><span class="sc11">LOADLWEAPONV</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the num-th lweapon on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= NumLWeapons().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc11">lweapon</span><span class="sc0"> </span><span class="sc11">CreateLWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CREATELWEAPONR</span><span class="sc0">
          </span><span class="sc11">CREATELWEAPONV</span><span class="sc0">

</span><span class="sc3">/**
* Creates an lweapon of the given type at (0,0). Use the LW_ constants in
* std.zh to pass into this method. The return value is a pointer to the
* new lweapon.
* The maximum number of lweapons on any given screen is 255. ZC will NOT report an
* error to allegro.log if you try to create lweapons after reaching that maximum. 
* The maximum instances for lweapons, and eweapons are independent.
* This cap is of *all* lweapons, of any type. Mixing types will not increase this cap.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumEWeapons</span><span class="sc10">();</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">EWPNCOUNT</span><span class="sc0">

</span><span class="sc3">/**
* Returns the number of Enemy weapon projectiles currently present on the screen.
* This includes things like Enemy arrows, bombs, magic, etc. Note that this
* value is only correct up until the next call of Waitframe().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc11">eweapon</span><span class="sc0"> </span><span class="sc11">LoadEWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">num</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LOADEWEAPONR</span><span class="sc0">
          </span><span class="sc11">LOADEWEAPONV</span><span class="sc0">

</span><span class="sc3">/**
* Returns a pointer to the numth eweapon on the current screen. The return
* value is undefined unless 1 &lt;= num &lt;= NumEWeapons().
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc11">eweapon</span><span class="sc0"> </span><span class="sc11">CreateEWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CREATEEWEAPONR</span><span class="sc0">
          </span><span class="sc11">CREATEEWEAPONV</span><span class="sc0">

</span><span class="sc3">/**
* Creates an eweapon of the given type at (0,0). Use the EW_ constants in
* std.zh to pass into this method. The return value is a pointer to the
* new lweapon.
* The maximum number of eweapons on any given screen is 255. ZC will NOT report an
* error to allegro.log if you try to create eweapons after reaching that maximum. 
* The maximum instances for eweapons, and lweapons are independent.
* This cap is of *all* eweapons, of any type. Mixing types will not increase this cap.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">isSolid</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ISSOLID</span><span class="sc0">

</span><span class="sc3">/**
* Returns true if the screen position (x, y) is solid - that is, if it
* is within the solid portion of a combo on layers 0, 1 or 2. If either
* x or y exceed the screen's bounds, then it will return false.
* It will also return false if the only applicable solid combo is a solid
* water combo that has recently been 'dried' by the whistle.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">ClearSprites</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">spritelist</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CLEARSPRITESR</span><span class="sc0">
          </span><span class="sc11">CLEARSPRITESV</span><span class="sc0">

</span><span class="sc3">/**
* Clears all of a certain kind of sprite from the screen. Use the SL_
* constants in std.zh to pass into this method.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Message</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">MSGSTRR</span><span class="sc0">
          </span><span class="sc11">MSGSTRV</span><span class="sc0">
</span><span class="sc3">/**
* Prints the message string with given ID onto the screen.
* If string is 0, the currently displayed message is removed.
* This method's behavior is undefined if string is less than 0
* or greater than the total number of messages in the quest.
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

        </span><span class="sc2">//===============================//
</span><span class="sc0">        </span><span class="sc2">//    SCRIPT DRAWING COMMANDS    //
</span><span class="sc0">        </span><span class="sc2">//===============================//
</span><span class="sc0">        
    </span><span class="sc1">/* These commands use the Allegro 4 drawing primitives to render drawn
        effects directly to the screen. You may draw to the screen immediately
        which is considered RT_SCREEN (see: Render Targets), or you may change
        to another render target (1 through 5) and issue your drawing commands,
        then render that back to the screen. 
        
        All render targets have eight valid layers, 0 through 7. 
        Drawing colour 0 to a layer of a bitmap render target erases a section of that,
        creating a transparent area on that layer. Any transparent area that extends 
        through all layers will be drawn as transparent when rendered back to the screen
        if 'bool mask' is set true. 
        
        Drawing colour 0 directly to a screen layer is undefined. 
        
        Please note: For all draw primitives, if the quest rule 'Subscreen Appears
        Above Sprites' is set,passing the layer argument as 7 will allow drawing
        on top of the subscreen.
        
        Tha maximum number of script drawing instructions per frame is 1000. 
  
  
  
void Rectangle(   int layer, int x, int y, int x2, int y2, 
      int color, float scale, 
      int rx, int ry, int rangle, 
      bool fill, int opacity    );
          
          ZASM Instruction: 
          RECTR
          RECT

/**
* Draws a rectangle on the specified layer of the current screen, using args to set its properties:
*
* METRICS
* (x,y) as the top-left corner and (x2,y2) as the bottom-right corner.
*
* COLOUR
*
* SCALE AND ROTATION
*
* FILL AND OPACITY
*
* Then scales the rectangle uniformly about its center by the given
* factor.
* Lastly, a rotation, centered about the point (rx, ry), is performed
* counterclockwise using an angle of rangle degrees.
* A filled rectangle is drawn if fill is true; otherwise, this method
* draws a wireframe.
* The rectangle is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the rectangle will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Circle</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">radius</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">scale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">fill</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0">  </span><span class="sc10">);</span><span class="sc0">
  
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">CIRCLE</span><span class="sc0">
          </span><span class="sc11">CIRCLER</span><span class="sc0">

</span><span class="sc3">/**
* Draws a circle on the specified layer of the current screen with
* center (x,y) and radius scale*radius.
* Then performs a rotation counterclockwise, centered about the point
* (rx, ry), using an angle of rangle degrees.
* A filled circle is drawn if fill is true; otherwise, this method
* draws a wireframe.
* The circle is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the circle will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Arc</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">radius</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">startangle</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">endangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">scale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">closed</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">fill</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ARC</span><span class="sc0">
          </span><span class="sc11">ARCR</span><span class="sc0">

</span><span class="sc3">/**
* Draws an arc of a circle on the specified layer of the current
* screen. The circle in question has center (x,y) and radius
* scale*radius.
* The arc beings at startangle degrees counterclockwise from standard
* position, and ends at endangle degress counterclockwise from standard
* position. The behavior of this function is undefined unless
* 0 &lt;= endangle-startangle &lt; 360.
* The arc is then rotated about the point (rx, ry) using an angle of
* rangle radians.
* If closed is true, a line is drawn from the center of the circle to
* each endpoint of the arc, forming a sector of the circle. If fill
* is also true, a filled sector is drawn instead.
* The arc or sector is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the arc will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Ellipse</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">xradius</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">yradius</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">scale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">fill</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
  
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ELLIPSE2</span><span class="sc0">
          </span><span class="sc11">ELLIPSER</span><span class="sc0">

</span><span class="sc3">/**
* Draws an ellipse on the specified layer of the current screen with
* center (x,y), x-axis radius xradius, and y-axis radius yradius.
* Then performs a rotation counterclockwise, centered about the point
* (rx, ry), using an angle of rangle degrees.
* A filled ellipse is drawn if fill is true; otherwise, this method
* draws a wireframe.
* The ellipse is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the ellipse will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Spline</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y3</span><span class="sc10">,</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y4</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SPLINER</span><span class="sc0">
          </span><span class="sc11">SPLINE</span><span class="sc0">

</span><span class="sc3">/**
* Draws a cardinal spline on the specified layer of the current screen
* between (x1,y1) and (x4,y4)
* The spline is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the ellipse will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Line</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y2</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">scale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINE</span><span class="sc0">
          </span><span class="sc11">LINER</span><span class="sc0">
</span><span class="sc3">/**
* Draws a line on the specified layer of the current screen between
* (x,y) and (x2,y2).
* Then scales the line uniformly by a factor of scale about the line's
* midpoint.
* Finally, performs a rotation counterclockwise, centered about the
* point (rx, ry), using an angle of rangle degrees.
* The line is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the line will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">PutPixel</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PUTPIXEL</span><span class="sc0">
          </span><span class="sc11">PUTPIXELR</span><span class="sc0">
</span><span class="sc3">/**
* Draws a raw pixel on the specified layer of the current screen
* at (x,y).
* Then performs a rotation counterclockwise, centered about the point
* (rx, ry), using an angle of rangle degrees.
* The point is drawn using the specified index into the entire
* 256-element palette: for instance, passing in a color of 17 would
* use color 1 of cset 1.
* Opacity controls how transparent the point will be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawTile</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">blockw</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">blockh</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">xscale</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">yscale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">transparency</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWTILE</span><span class="sc0">
          </span><span class="sc11">DRAWTILER</span><span class="sc0">
</span><span class="sc3">/**
* Draws a block of tiles on the specified layer of the current screen,
* starting at (x,y), using the specified cset.
* Starting with the specified tile, this method copies a block of size
* blockh x blockw from the tile sheet to the screen. This method's
* behavior is undefined unless 1 &lt;= blockh, blockw &lt;= 20.
* Scale specifies the actual size in pixels! So scale 1 would mean it is
* only one pixel in size. To use the default sizes of block w,h you must
* set xscale and yscale to -1. These values are not independant of one another,
* so you cannot set xscale and leave yscale at -1.
* rx, ry : these work now, just like the other primitives.
* rangle performs a rotation clockwise using an angle of rangle degrees.
* Flip specifies how the tiles should be flipped when drawn:
* 0: No flip
* 1: Horizontal flip
* 2: Vertical flip
* 3: Both (180 degree rotation)
* If transparency is true, the tiles' transparent regions will be
* respected.
* Opacity controls how transparent the solid portions of the tiles will
* be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">FastTile</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">FASTTILER</span><span class="sc0">
</span><span class="sc3">/**
* Optimized and simpler version of DrawTile()
* Draws a single tile on the current screen much in the same way as DrawTile().
* See DrawTile() for an explanation on what these arguments do.
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawCombo</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">combo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">w</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">h</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">xscale</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">yscale</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rx</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ry</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">rangle</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">transparency</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWCOMBO</span><span class="sc0">
          </span><span class="sc11">DRAWCOMBOR</span><span class="sc0">
</span><span class="sc3">/**
* Draws a combo on the specified layer of the current screen,
* starting at (x,y), using the specified cset.
* Starting with the specified tile referenced by the combo,
* this method copies a block of size
* blockh x blockw from the tile sheet to the screen. This method's
* behavior is undefined unless 1 &lt;= blockh, blockw &lt;= 20.
* Scale specifies the actual size in pixels! So scale 1 would mean it is
* only one pixel in size. To use the default sizes of block w,h you must
* set xscale and yscale to -1. These values are not independant of one another,
* so you cannot set xscale and leave yscale at -1.
* rx, ry : works now :
* rangle performs a rotation clockwise using an angle of rangle degrees.
* Flip specifies how the tiles should be flipped when drawn:
* 0: No flip
* 1: Horizontal flip
* 2: Vertical flip
* 3: Both (180 degree rotation)
* If transparency is true, the tiles' transparent regions will be
* respected.
* Opacity controls how transparent the solid portions of the tiles will
* be. 
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">FastCombo</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">combo</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">FASTCOMBOR</span><span class="sc0">
</span><span class="sc3">/**
* Optimized and simpler version of DrawCombo()
* Draws a single combo on the current screen much in the same way as DrawCombo().
* See DrawCombo() for an explanation on what these arguments do.
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawCharacter</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">font</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">background_color</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">width</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">height</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">glyph</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWCHARR</span><span class="sc0">
</span><span class="sc3">/**
* Draws a single ASCII character 'glyph' on the specified layer of the current screen,
* using the specified font index (see std.zh for FONT_* list to pass to this method),
* starting at (x,y), using the specified color as the foreground color
* and background_color as the background color. * NOTE * Use -1 for a transparent background.
* The arguments width and height may be used to draw the glyph
* of any arbitrary size begining at 1 pixel up to 512 pixels large. (more than four times the size of the screen)
* Passing 0 or negative values to this will use the default fonts w and h.
* Opacity controls how transparent the is.
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawInteger</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">font</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">background_color</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">width</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">height</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">number_decimal_places</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
  
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWINTR</span><span class="sc0">
</span><span class="sc3">/**
* Draws a zscript 'int' or 'float' on the specified layer of the current screen,
* using the specified font index (see std.zh for FONT_* list to pass to this method),
* starting at (x,y), using the specified color as the foreground color
* and background_color as the background color. * NOTE * Use -1 for a transparent background.
* The arguments width and height may be used to draw the number
* of any arbitrary size begining at 1 pixel up to 512 pixels large.
* Passing 0 or negative values to this will use the default fonts w and h.
* The number can be rendered as type 'int' or 'float' by setting the argument
* "number_decimal_places", which is only valid if set to 0 or &lt;= 4.
* Opacity controls how transparent the is.
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawString</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">font</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">background_color</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">format</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ptr</span><span class="sc10">[],</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWSTRINGR</span><span class="sc0">
</span><span class="sc3">/**
* Prints a NULL terminated string up to 256 characters from an int array
* containing ASCII data (*ptr) on the specified layer of the current screen,
* using the specified font index (see std.zh for FONT_* list to pass to this method),
* using the specified color as the foreground color
* and background_color as the background color. * NOTE * Use -1 for a transparent background.
* The array pointer should be passed as the argument for '*ptr', ie.
* int string[] = "Example String"; Screen-&gt;DrawString(l,x,y,f,c,b_c,fo,o,string);
* int format tells the engine how to format the string. (see std.zh for TF_* list to pass to this method)
* Opacity controls how transparent the message is.
* You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
* for an opaque (100%) image. Other values are **ignored**, and will be treated 
* as translucent (OP_TRANS, or 64).
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">



  </span><span class="sc2">/////////////////////////
</span><span class="sc0">  </span><span class="sc2">// (Psuedo) 3D drawing //
</span><span class="sc0">  </span><span class="sc2">///////////////////////// 
</span><span class="sc0">  
  </span><span class="sc15">//! When allocating a texture, the size (h,w) must be between 1 and 16, in powers of two. 
</span><span class="sc0">  </span><span class="sc15">//! Thus, legal sizes are 1, 2, 4, 8, and 16.
</span><span class="sc0">  </span><span class="sc15">//! This applies to *all* the pseudo-3d and 3-D drawing functions. 
</span><span class="sc0">  
  </span><span class="sc15">//! To draw one of the rendering shapes with a solid colour, set the args as follows:
</span><span class="sc0">  </span><span class="sc15">//! CSet = colour to draw
</span><span class="sc0">  </span><span class="sc15">//! Texture = -1
</span><span class="sc0">  </span><span class="sc15">//! Render Mode = PT_FLAT
</span><span class="sc0">  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Quad</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y4</span><span class="sc10">,</span><span class="sc0">
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">w</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">h</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">texture</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">render_mode</span><span class="sc10">);</span><span class="sc0">
  
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">QUADR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Draws a quad on the specified layer with the corners x1,y1 through x4,y4.
  * Corners are drawn in a counterclockwise order starting from x1,y1. ( So
  * if you draw a "square" for example starting from the bottom-right corner
  * instead of the usual top-left, the the image will be textured onto the
  * quad so it appears upside-down. -yes, these are rotatable. )
  *
  * From there a single or block of tiles or combos is then texture mapped
  * onto the quad using the arguments w, h, cset, flip, and render_mode.
  * A positive vale in texture will draw the image from the tilesheet pages,
  * whereas a negative value will be drawn from the combo page. 0 will draw combo number 0.
  * Both w and h are undefined unless 1 &lt;= blockh, blockw &lt;= 16, and it is a power of
  * two. ie: 1, 2 are acceptable, but 2, 15 are not.
  *
  *
  * Flip specifies how the tiles/combos should be flipped when drawn:
  * 0: No flip
  * 1: Horizontal flip
  * 2: Vertical flip
  * 3: Both (180 degree rotation)
  * (!)  See std.zh for a list of all available render_mode arguments.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Triangle</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y3</span><span class="sc10">,</span><span class="sc0">
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">w</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">h</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">texture</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">render_mode</span><span class="sc10">);</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">TRIANGLER</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Draws a triangle on the specified layer with the corners x1,y1 through x4,y4.
  * Corners are drawn in a counterclockwise order starting from x1,y1.
  * From there a single or block of tiles or combos is then texture mapped
  * onto the triangle using the arguments w, h, cset, flip, and render_mode.
  *
  * A positive value in texture will draw the image from the tilesheet pages,
  * whereas a negative value will be drawn from the combo page. 0 will draw combo number 0.
  * Both w and h are undefined unless 1 &lt;= blockh, blockw &lt;= 16, and it is a power of
  * two. ie: 1, 2 are acceptable, but 2, 15 are not.
  *
  * Flip specifies how the tiles/combos should be flipped when drawn:
  * 0: No flip
  * 1: Horizontal flip
  * 2: Vertical flip
  * 3: Both (180 degree rotation)
  * (!) See std.zh for a list of all available render_mode arguments.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Triangle3D</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">pos</span><span class="sc10">[</span><span class="sc4">9</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">uv</span><span class="sc10">[</span><span class="sc4">6</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">csets</span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">[</span><span class="sc4">2</span><span class="sc10">],</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">tile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">polytype</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">TRIANGLE3DR</span><span class="sc0">
  </span><span class="sc3">/**
  * Draws a 3d triangle on the specified layer with the corners x1,y1 through x3,y3.
  * Corners are drawn in a counterclockwise order starting from x1,y1.
  * From there a single or block of tiles or combos is then texture mapped
  * onto the triangle using the arguments w, h, cset, flip, and render_mode.
  *
  * The h and w args are used to set the tile block size for the texture.
  *
  * A positive value in texture will draw the image from the tilesheet pages,
  * whereas a negative value will be drawn from the combo page. 0 will draw combo number 0.
  * Both w and h are undefined unless 1 &lt;= blockh, blockw &lt;= 16, and it is a power of
  * two. ie: 1, 2 are acceptable, but 2, 15 are not.
  *
  * Arguments take the form of array pointers: Thus, you must declare arrays with the values that you wish to use
  * and pass their pointers to each of the following:
  *
  * [9]pos - x, y, z positions of the 3 corners.
  * [6]uv - x, y texture coordinates of the given texture.
  * [3]csets - of the corners to interpolate between.
  * [2]size - w, h, of the texture. 
  *   w, and h must be in values of 1, 2, 4, 8, or 16. 
  *
  *
  * Flip specifies how the tiles/combos should be flipped when drawn:
  * 0: No flip
  * 1: Horizontal flip
  * 2: Vertical flip
  * 3: Both (180 degree rotation)
  * (!) See std.zh for a list of all available render_mode arguments.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Quad3D</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">pos</span><span class="sc10">[],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">uv</span><span class="sc10">[],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">cset</span><span class="sc10">[],</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">[],</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">flip</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">texture</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">render_mode</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
      
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">QUAD3DR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Draws a Quad on the specified layer similar to Quad.
  * Arguments take the form of array pointers: Thus, you must declare arrays with the values that you wish to use
  * and pass their pointers to each of the following:
  *
  * [12]pos - x, y, z positions of the 4 corners.
  * [8]uv - x, y texture coordinates of the given texture.
  * [4]csets - of the corners to interpolate between.
  * [2]size - w, h, of the texture.
  *   w, and h must be in values of 1, 2, 4, 8, or 16. 
  * (!) See std.zh for a list of all available render_mode arguments.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetRenderTarget</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">bitmap_id</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">SETRENDERTARGET</span><span class="sc0">

  </span><span class="sc3">/**
  * Sets the target bitmap for all succesive drawing commands.
  * These can be directly to the screen or any one of the available off-screen bitmaps,
  * which are generally categorized as -1(screen) or 0-bitmapNumber(off-screen).
  *
  * (!) See std.zh for a complete list of valid render targets (RT_*).
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">GetRenderTarget</span><span class="sc10">();</span><span class="sc0">
          
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GETRENDERTARGET</span><span class="sc0">

  </span><span class="sc3">/**
  * Returns the ID of the current Screen Render Target
  *
  * (!) See std.zh for a complete list of valid render targets (RT_*).
  * (!) This command requires ZC Player 2.53.0 Release 3, or later.
  * (!) Plaing a 2.53.x quest that uses this command in an earler version
  * (!) of ZC Player, produce script errors.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawBitmap</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">bitmap_id</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_w</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_h</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dest_x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dest_y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dest_w</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dest_h</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rotation</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">mask</span><span class="sc10">);</span><span class="sc0">

          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">BITMAPR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The process of copying one bitmap to another, or to the screen, is called a 'BLIT', or 'BLITTING'.
  * This instruction BLITs a source rect from off-screen (memory) Bitmap with id of bitmap_id onto
  * an area of the screen (or another bitmap) using a set of rectangular coordinates, at the given layer.
  *
  * Use source_x + source_w to define the X axis and source_y + source_h to define the
  * Y axis of the bitmap area that you wish to draw; then specify the target area using
  * dest_x + dest_w and dest_y + dest_h. 
  * 
  * If source_w and dest_w are not equal, or source_h and dest_h are not equal, the
  * bitmap will be scaled.
  *
  * The valid range of coordinates on a bitmap is 0 tp 511, on each axis. Bitmaps are
  * 512 pixels square, in size. 
  *
  * Rotation defines if the bitmap will be rotated. if so, it will be rotated on its centre 
  * by a number of DEGREES equal to the value of rotation.
  *
  * If you wish to mask out translucent areas of the bitmap when blitting it, set mast true. 
  *
  *
  * (!) Note* Script drawing functions are enqueued and executed in a frame-by-frame basis 
  * based on the order of which layer they need to be drawn to. Drawing to or from
  * seperate render tagets or bitmaps is no exception! So keep in mind in order to 
  * eliminate unwanted drawing orders or bugs.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">   
      </span><span class="sc11">Screen</span><span class="sc10">-&gt;</span><span class="sc11">Bitmap</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">myBitmapId</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">79</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">57</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">32</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">32</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">would</span><span class="sc0"> </span><span class="sc11">draw</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc4">16x16</span><span class="sc0"> </span><span class="sc11">area</span><span class="sc0"> </span><span class="sc11">starting</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">upper</span><span class="sc10">-</span><span class="sc11">left</span><span class="sc0"> </span><span class="sc11">corner</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">source</span><span class="sc0"> </span><span class="sc11">bitmap</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0">
        </span><span class="sc11">layer</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">current</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">coordinates</span><span class="sc0"> </span><span class="sc4">79</span><span class="sc10">,</span><span class="sc4">57</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">width</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">height</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> 
  
  
  
  </span><span class="sc2">// Screen/Layer Drawing
</span><span class="sc0">  </span><span class="sc10">*</span><span class="sc14">/
</span><span class="sc0">  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawLayer</span><span class="sc0">  </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_screen</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rotation</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">opacity</span><span class="sc10">);</span><span class="sc0">
      
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWLAYERR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Draws an entire Layer from source_screen on source_map on the specified layer of the current screen at (x,y).
  * If rotation is not zero, it(the entire layer) will rotate about its center.
  *
  * Opacity controls how transparent the solid portions of the tiles will
  * You may use OP_TRANS (64) for a translucent (50%) image, or OP_OPAQUE (128)
  * for an opaque (100%) image. Other values are **ignored**, and will be treated 
  * as translucent (OP_TRANS, or 64).
  *
  * Also see ScreenToLayer() in std.zh
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">   
  
  </span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">DrawScreen</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">layer</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">map</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">source_screen</span><span class="sc10">,</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">rotation</span><span class="sc10">);</span><span class="sc0">
      
          </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">DRAWSCREENR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Draws an entire screen from screen on map on the specified layer of the current screen at (x,y).
  * If rotation is not zero, it(the entire screen) will rotate about its center.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">   
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">



</span><span class="sc2">//===================================
//--- FFC Functions and Variables ---
//===================================
</span><span class="sc0">
                      </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0">

</span><span class="sc1">/*
* The following functions, and arrays are part of the ffc class.
*
* Ordinarily, these are set when writing an ffc script, using the pointer
*   this-&gt;
* Example: this-&gt;Data = 10; Sets the Data variable for the present ffc
*         to a value of '10'.
*
* The 'this-&gt;' pointer is used in ffcs, and item scripts only. It references ffc
* variables and arrays in an ffc script; and itemdata variables in an item script.
*
* Changing ffc variables without 'this-&gt;': 
*
* You may change a variable, or array value of the ffc class by loading the ffc into a custom pointer
* using Screen-&gt;LoadFFC(int number) as follows:
* 
* ffc f; //Declare a general ffc pointer. 
*   //You must use the ffc token to declare the pointer, but you may use any 
*   //name that you desire for it. 'f' here, is merely a short-name example. 
*
* f = Screen-&gt;LoadFFC(10); //Loads the data of ffc ID 10 for the present screen into the 'f' pointer.
*
*   f-&gt;Data = 15; //Sets the 'Data' variable of the ffc to a value of '15'.
*
* f-&gt;X = 120; //Sets  the X-position of the ffc assigned to pointer 'f' to a value of '120'.
*/</span><span class="sc0"> 


</span><span class="sc11">Set</span><span class="sc0"> </span><span class="sc11">Working</span><span class="sc0"> </span><span class="sc11">FFC</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc10">:</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc0">
        </span><span class="sc11">REFFFC</span><span class="sc0">
        
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Data</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">DATA</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The number of the combo associated with this FFC.
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Data</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">10</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Combo</span><span class="sc0"> </span><span class="sc4">10.</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFSCRIPT</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The number of the script assigned to the FFC. This will be automatically
* set to 0 when the FFC's script exits. A script cannot change the script of
* the FFC running it; in other words, you cannot write to this-&gt;Script. 
*
* When an FFC's script is changed, its arguments, Misc[], and registers will
* all be set to 0, and it will start running from the beginning. Set
* ffc-&gt;InitD[] after setting the script before the script starts running
* to pass arguments to it.
* 
* Setting -&gt;Data to 0 DOES NOT clear -&gt;Script, and it is not treated as exiting.
* To do this, call Quit(), or 
* otherwise exit the scope of the run() function.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">10</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">Combo</span><span class="sc0"> </span><span class="sc4">10.</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FCSET</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The cset of the FFC.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">CSet</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc0"> </span><span class="sc4">2.</span><span class="sc0"> 
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Delay</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">DELAY</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's animation delay, in frames.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Delay</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">120</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc4">120</span><span class="sc0"> </span><span class="sc11">frames</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">pass</span><span class="sc0"> </span><span class="sc11">before</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">animates</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FX</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's X position on the screen.
*
* Values outside the screen boundaries *are* legal. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">X</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">43</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">-</span><span class="sc11">position</span><span class="sc0"> </span><span class="sc4">43</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc4">43</span><span class="sc0"> </span><span class="sc11">pixels</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">right</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">leftmost</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">edge</span><span class="sc10">.</span><span class="sc0">
    
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FY</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's Y position on the screen.
*
* Values outside the screen boundaries *are* legal. 
* The Y value 0 is automatically offset to account for the passive subscreen. 
* To place an ffc in the area of the passive subscreen, a negative value must be passed to Y. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">X</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">90</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">-</span><span class="sc11">position</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">90</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">.</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc4">90</span><span class="sc0"> </span><span class="sc11">pixels</span><span class="sc0"> </span><span class="sc11">below</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">passive</span><span class="sc0"> </span><span class="sc11">subscreen</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Vx</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">XD</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's velocity's X-component.
*
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Vx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">20</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">move</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc4">20</span><span class="sc0"> </span><span class="sc11">pixels</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">second</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc0"> </span><span class="sc11">avis</span><span class="sc10">.</span><span class="sc0">
    
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Vy</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">YD</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's velocity's Y-component.
*
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Vy</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">20</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">move</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc4">20</span><span class="sc0"> </span><span class="sc11">pixels</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">second</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc0"> </span><span class="sc11">avis</span><span class="sc10">.</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Ax</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">XD2</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's acceleration's X-component.
*
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Vx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1.03</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Every</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">velocity</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">-</span><span class="sc11">component</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">increase</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc4">1.03.</span><span class="sc0"> 
    
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Ay</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">YD2</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The FFC's acceleration's Y-component.
*
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc11">f</span><span class="sc10">-&gt;</span><span class="sc11">Vx</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.2903</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">Every</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">velocity</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">-</span><span class="sc11">component</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">increase</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc4">0.2903.</span><span class="sc0">  
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Flags</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FLAG</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        </span><span class="sc11">FFFLAGSD</span><span class="sc0">
        
        
</span><span class="sc3">/**
* The FFC's set of flags as an array of 11 boolean values. 
* Use the FFCF_ constants in std.zh as the
* index to access a particular flag.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileWidth</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFTWIDTH</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        </span><span class="sc11">WIDTH</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The number of tile columns composing the FFC.
* The maximum value is '4'.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFTHEIGHT</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        </span><span class="sc11">HEIGHT</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The number of tile rows composing the FFC.
* The maximum value is '4'.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">EffectWidth</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFCWIDTH</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The width (in pixels) of the area of effect of the combo associated with the FFC.
* The maximum value is '64'.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">EffectHeight</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFCHEIGHT</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The width (in pixels) of the area of effect of the combo associated with the FFC.
* The maximum value is '64'.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFLINK</span><span class="sc10">&lt;</span><span class="sc11">d3</span><span class="sc10">&gt;</span><span class="sc0">
        </span><span class="sc11">LINK</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The number of the FFC linked to by this FFC.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">InitD</span><span class="sc10">[</span><span class="sc4">8</span><span class="sc10">];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFINITD</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        </span><span class="sc11">FFINITDD</span><span class="sc10">&lt;&gt;?</span><span class="sc0">
        </span><span class="sc11">D</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The original values of the FFC's 8 D input values as they are stored in
* the .qst file, regardless of whether they have been modified by ZScript.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Misc</span><span class="sc10">[</span><span class="sc4">16</span><span class="sc10">];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">FFMISC</span><span class="sc0">
        </span><span class="sc11">FFMISCD</span><span class="sc0">
        
</span><span class="sc3">/**
* An array of 16 miscellaneous variables for you to use as you please.
* These variables are not saved with the ffc.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">Address</span><span class="sc0"> </span><span class="sc11">Argument</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc0">
        </span><span class="sc11">A</span><span class="sc10">&lt;&gt;</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">





</span><span class="sc2">//====================================
//--- Link Functions and Variables ---
//====================================
</span><span class="sc0">
                      </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc0">

</span><span class="sc2">//Unimplemented?
</span><span class="sc11">Invincibility</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">LINKINVINC</span><span class="sc10">&lt;&gt;</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKX</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's X position on the screen, in pixels. Float values passed to this will be truncated to ints.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKY</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's Y position on the screen, in pixels. Float values passed to this will be truncated to ints.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKZ</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's Z position on the screen, in pixels. Float values passed to this will be truncated to ints.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Invisible</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKINVIS</span><span class="sc0">
        
</span><span class="sc3">/**
* Whether Link is currently being draw to the screen. Set true to remove him from view.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">CollDetection</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKINVINC</span><span class="sc0">
        
</span><span class="sc3">/**
* If true, Link's collision detection with npcs and eweapons is currently turned on.
* If false, engine collision is disabled.
* This variable works on a different system to clocks and the level 4 cheat, so it will not
* necessarily return true if they are set.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Jump</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKJUMP</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's upward velocity, in pixels. If negative, Link will fall.
* The downward acceleration of Gravity (in Init Data) modifies this value every frame.
*
* This value is intended to be in pixels, but appears to be in tiles. ?!
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">SwordJinx</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKSWORDJINX</span><span class="sc0">
        
</span><span class="sc3">/**
* The time, in frames, until Link regains use of his sword. -1 signifies
* a permanent loss of the sword caused by a Red Bubble.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ItemJinx</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKITEMJINX</span><span class="sc0">
        
</span><span class="sc3">/**
* The time, in frames, until Link regains use of his items. -1 signifies
* a permanent loss of his items. caused by a Red Bubble.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Drunk</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKDRUNK</span><span class="sc0">
        
</span><span class="sc3">/**
* The time, in frames, that Link will be 'drunk'. If positive, the player's
* controls are randomly interfered with, causing Link to move erratically.
* This value is decremented once per frame. As the value of Drunk approaches 0,
* the intensity of the effect decreases.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Dir</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKDIR</span><span class="sc0">
        
</span><span class="sc3">/**
* The direction Link is facing. Use the DIR_ constants in std.zh to set
* or compare this variable. Note: even though Link can move diagonally if the
* quest allows it, his sprite doesn't ever use any of the diagonal directions,
* which are intended for enemies only.
*
* Reading this value occurs after Waitdraw(). 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitDir</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKHITDIR</span><span class="sc0">
        
</span><span class="sc3">/**
* The direction Link should bounce in when he is hit. This is mostly useful for
* simulating getting hit by setting Link-&gt;Action to LA_GOTHURTLAND.
*
* This value does nothing is Link-&gt;Action does not equal LA_GOTHURTLAND or LA_GOTHURTWATER.
* Forcing this value to -1 prevent Link from being knocked back when injured, or when touching any enemy. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HP</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKHP</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's current hitpoints, in 16ths of a heart.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MP</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
        </span><span class="sc11">LINKMP</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's current amount of magic, in 32nds of a magic block.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MaxHP</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKMAXHP</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's maximum hitpoints, in 16ths of a heart.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MaxMP</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKMAXMP</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's maximum amount of magic, in 32nds of a magic block.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Action</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKACTION</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* Link's current action. Use the LA_ constants in std.zh to set or
* compare this value. 
* This value is read-write, but some actions are undefined in this 
* version of ZC. The following are known to work:
*
*
*
*The effect of writing to this field is currently
* undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HeldItem</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHELD</span><span class="sc10">&lt;&gt;</span><span class="sc0">
        
</span><span class="sc3">/**
* The item that Link will hold over his head if an item's Pickup flags 
* are IP_PICKUP or if Link-&gt;Action == LA_HOLD*.
* Reading or setting this value is undefined if Link is not holding 
* up an item.
* Use the I_ constants in std.zh to specify the item, or -1 to show no item.
* Setting HeldItem to an invalid item ID is undefined.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LadderX</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKLADDERX</span><span class="sc0">
        
</span><span class="sc3">/**
* The X position of Link's stepladder, or 0 if no ladder is onscreen.
* This is read-only; while setting it is not syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">LadderY</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKLADDERY</span><span class="sc0">
        
</span><span class="sc3">/**
* The Y position of Link's stepladder, or 0 if no ladder is onscreen.
* This is read-only; while setting it is not syntactically incorrect, it does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">



  </span><span class="sc10">***</span><span class="sc0"> </span><span class="sc11">Input</span><span class="sc0"> </span><span class="sc11">Functions</span><span class="sc0"> </span><span class="sc10">***</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">Input</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">boolean</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">player</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">pressing</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">corresponding</span><span class="sc0"> </span><span class="sc11">button</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">analog</span><span class="sc0"> </span><span class="sc11">stick</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">key</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Writing</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">simulates</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">press</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">release</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">referenced</span><span class="sc0"> </span><span class="sc11">button</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">analog</span><span class="sc0"> </span><span class="sc11">stick</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">key</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc14">/
</span><span class="sc0">  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputStart</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTSTART</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputMap</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTMAP</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputUp</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTUP</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputDown</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTDOWN</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputLeft</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTLEFT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputRight</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTRIGHT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputA</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTA</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputB</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTB</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputL</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTL</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputR</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTR</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputEx1</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTEX1</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputEx2</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTEX2</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputEx3</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTEX3</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputEx4</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTEX4</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputAxisUp</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTAXISUP</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputAxisDown</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTAXISDOWN</span><span class="sc0">
    
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputAxisLeft</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTAXISLEFT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">InputAxisRight</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTAXISRIGHT</span><span class="sc0">
  
  
  </span><span class="sc10">***</span><span class="sc0"> </span><span class="sc11">Press</span><span class="sc0"> </span><span class="sc11">Functions</span><span class="sc0"> </span><span class="sc10">***</span><span class="sc0">
  </span><span class="sc3">/**
  * The following Press* boolean values return true if the player activated
  * the corresponding button, analog stick, or key this frame. Writing to this
  * variable simulates the press or release of that referenced button, analog stick,
  * or keys input press state.
  */</span><span class="sc0">


  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressStart</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSSTART</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressMap</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSMAP</span><span class="sc0"> 
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressUp</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSUP</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressDown</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSDOWN</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressLeft</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSLEFT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressRight</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSRIGHT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressA</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSA</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressB</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSB</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressL</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSL</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressR</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSR</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressEx1</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSEX1</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressEx2</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSEX2</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressEx3</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSEX3</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressEx4</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">INPUTPRESSEX4</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressAxisUp</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">PRESSAXISUP</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressAxisDown</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">PRESSAXISDOWN</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressAxisLeft</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">PRESSAXISLEFT</span><span class="sc0">
  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">PressAxisRight</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">PRESSAXISRIGHT</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InputMouseX</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">INPUTMOUSEX</span><span class="sc0">
        
</span><span class="sc3">/**
* The mouse's in-game X position. This value is undefined if
* the mouse pointer is outside the Zelda Classic window.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InputMouseY</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">INPUTMOUSEY</span><span class="sc0">
        
</span><span class="sc3">/**
* The mouse's in-game Y position. This value is undefined if
* the mouse pointer is outside the Zelda Classic window.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InputMouseB</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">INPUTMOUSEB</span><span class="sc0">
        
</span><span class="sc3">/**
* Whether the left or right mouse buttons are pressed, as two flags OR'd (|) together;
* use the MB_ constants or the Input'X'Click functions in std.zh to check the button states.
* InputMouseB is read only; while setting it is not syntactically incorrect, it does nothing
* If you are not comfortable with binary, you can use the InputMouse'x' functions in std.zh
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">InputMouseZ</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">INPUTMOUSEB</span><span class="sc0">
        
</span><span class="sc3">/**
* The current state of the mouse's scroll wheel, negative for scrolling down and positive for scrolling up.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Item</span><span class="sc10">[</span><span class="sc4">256</span><span class="sc10">];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKITEMD</span><span class="sc0">
        
</span><span class="sc3">/**
* True if Link's inventory contains the item whose ID is the index of
* the array access. Use the I_ constants in std.zh as an index into this array.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Equipment</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKEQUIP</span><span class="sc0">
        
</span><span class="sc3">/**
* Contains the item IDs of what is currently equiped to Link's A and B buttons.
* The first 8 bits contain the A button item, and the second 8 bits contain the B button item.
* As of 2.53.0 Release 3, this are read/write but in older versions this is read-only.
* Playing a quest that writes to them in an older version of 
* ZC Player will do nothing.
* If you are not comfortable with performing binary operations,
* you can use the functions GetEquipmentA(), GetEquipmentB(), and SetEquipment(int  int b) in std.zh.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Tile</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKTILE</span><span class="sc0">
        
</span><span class="sc3">/**
* The current tile associated with Link. The effect of writing to this variable is undefined.
* Because Link's tile is not determined until he is drawn, this will actually represent
* Link's tile in the previous frame.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Flip</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKFLIP</span><span class="sc0">
        
</span><span class="sc3">/**
* The current tile associated with Link. The effect of writing to this variable is undefined.
* Because Link's tile is not determined until he is drawn, this will actually represent
* Link's tile flip in the previous frame.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">Extend</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">n</span><span class="sc10">/</span><span class="sc11">a</span><span class="sc0">

</span><span class="sc3">/**
* This value is NOT set by script. There is no instruction for it; however in the sprites editor
* (Menu: Quest-&gt;Graphics-&gt;Sprites-&gt;Link ) it is possibly to modify the Extend value of link. 
* To do this, click on his sprites for any given action, and preee the 'x' key.
* The options are 16x16, 16x32, and 32x32; which correspond to Extend values of ( ?, ?, and ? ) respectively. 
*/</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitHeight</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHYSZ</span><span class="sc0">
          
</span><span class="sc3">/**
* link's Hitbox height in pixels.
* This is not usable, as Link-&gt;Extend cannot be set.
* While setting it is not syntactically incorrect, it does nothing.
* You can read a value that you assign to this (e.g. for custom collision functions). 
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
          
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitWidth</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHXSZ</span><span class="sc0">

</span><span class="sc3">/**
* link's Hitbox width in pixels.
* This is not usable, as Link-&gt;Extend cannot be set.
* While setting it is not syntactically incorrect, it does nothing.
* You can read a value that you assign to this  (e.g. for custom collision functions).
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileWidth</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKTYSZ</span><span class="sc0">
</span><span class="sc3">/**
* Link's width, in tiles.
* This is not usable, as Link-&gt;Extend cannot be set.
* While setting it is not syntactically incorrect, it does nothing.
* You can read a value that you assign to this (e.g. for custom/proxy sprite drawing).
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">         

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileHeight</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKTXSZ</span><span class="sc0">

</span><span class="sc3">/**
* Link's height, in tiles.
* This is not usable, as Link-&gt;Extend cannot be set.
* While setting it is not syntactically incorrect, it does nothing.
* You can read a value that you assign to this (e.g. for custom/proxy sprite drawing).
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitZHeight</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHZSZ</span><span class="sc0">
        
</span><span class="sc3">/**
* The Z-axis height of Link's hitbox, or collision rectangle.
* The lower it is, the lower a flying or jumping enemy must fly in order to hit Link.
* The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other. 
* Writing to this is ignored unless Extend is set to values &gt;=3.
* This is not usable, as Link-&gt;Extend cannot be set.
* While setting it is not syntactically incorrect, it does nothing.
* You can read a value that you assign to this (e.g. for custom collision functions).
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitXOffset</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHXOFS</span><span class="sc0">
        
</span><span class="sc3">/**
* The X offset of Link's hitbox, or collision rectangle.
* Setting it to positive or negative values will move Link's hitbox left or right.
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitYOffset</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKHYOFS</span><span class="sc0">
        
</span><span class="sc3">/**
* The Y offset of Link's hitbox, or collision rectangle.
* Setting it to positive or negative values will move Link's hitbox up or down.
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawXOffset</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKXOFS</span><span class="sc0">
        
</span><span class="sc3">/**
* The X offset of Link's sprite.
* Setting it to positive or negative values will move the sprite's tiles left or right relative to its position.
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawYOffset</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKYOFS</span><span class="sc0">
        
</span><span class="sc3">/**
* The Y offset of Link's sprite.
* Setting it to positive or negative values will move the sprite's tiles up or down relative to its position.
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawZOffset</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKZOFS</span><span class="sc0">
        
</span><span class="sc3">/**
* The Z offset of Link's sprite.
* The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other. 
* This value is not preserved through sessions: Loading a saved game will reset it to the default. 
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Misc</span><span class="sc10">[</span><span class="sc4">16</span><span class="sc10">];</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LINKMISC</span><span class="sc0">
          </span><span class="sc11">LINKMISCD</span><span class="sc0">
        
</span><span class="sc3">/**
* An array of 16 miscellaneous variables for you to use as you please.
* These variables are not saved with Link.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">Warp</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">);</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">WARP</span><span class="sc0">
          </span><span class="sc11">WARPR</span><span class="sc0">
        
</span><span class="sc3">/**
* Warps link to the given screen in the given DMap, just like if he'd
* triggered an 'Insta-Warp'-type warp.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">PitWarp</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DMap</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">screen</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">PITWARP</span><span class="sc0">
          </span><span class="sc11">PITWARPR</span><span class="sc0">
        
</span><span class="sc3">/**
* This is identical to Warp, but Link's X and Y positions are preserved
* when he enters the destination screen, rather than being set to the
* Warp Return square.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">SelectAWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dir</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
        
</span><span class="sc3">/**
* Sets the A button item to the next one in the given direction based on
* the indices set in the subscreen. This will skip over items if A and B
* would be set to the same item.
* If the quest rule "Can Select A-Button Weapon On Subscreen" is disabled,
* this function does nothing.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">SelectBWeapon</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">dir</span><span class="sc10">);</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
        
</span><span class="sc3">/**
* Sets the B button item to the next one in the given direction based on
* the indices set in the subscreen. This will skip over items if A and B
* would be set to the same item.
*
*/</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">//===================================
//--- NPC Functions and Variables ---
//===================================
</span><span class="sc0">
                      </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc0">

  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">isValid</span><span class="sc10">();</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ISVALIDNPC</span><span class="sc0">
  </span><span class="sc3">/**
  * Returns whether or not this NPC pointer is still valid. A pointer
  * becomes invalid if the enemy dies or Link leaves the screen.
  * Trying to access any variable of an invalid NPC pointer prints
  * an error to allegro.log and does nothing.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetName</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCNAME</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads the npc's name into 'buffer'. To load an NPC from an ID rather than a pointer,
  * use 'GetNPCName' from std.zh
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCID</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's enemy ID number.
  * npc-&gt;ID is read-only; while setting it is not syntactically incorrect, it does nothing.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Type</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCTYPE</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's Type. Use the NPCT_ constants in std.zh to compare this value.
  * npc-&gt;Type is read-only; while setting it is not syntactically incorrect, it does nothing.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCX</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's current X coordinate, in pixels. Float values passed to this will be cast to int.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCY</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's current Y coordinate, in pixels. Float values passed to this will be cast to int.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's current Z coordinate, in pixels. Float values passed to this will be cast to int.
  */</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Jump</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCJUMP</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's upward velocity, in pixels. If negative, the NPC will fall.
  * The downward acceleration of Gravity (in Init Data) modifies this value every frame.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Dir</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCDIR</span><span class="sc0">
  </span><span class="sc3">/**
  * The direction the NPC is facing. Use the DIR_ constants in std.zh to
  * set and compare this value.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Rate</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCRATE</span><span class="sc0">
  </span><span class="sc3">/**
  * The rate at which the NPC changes direction. For a point of reference,
  * the "Octorok (Magic)" enemy has a rate of 16. The effect of writing to
  * this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Haltrate</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHALTRATE</span><span class="sc0">
  </span><span class="sc3">/**
  * The extent to which the NPC stands still while moving around the
  * screen. As a point of reference, the Zols and Gels have haltrate of
  * 16. The effect of writing to this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Homing</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHOMING</span><span class="sc0">
  </span><span class="sc3">/**
  * How likely the NPC is to move towards Link.
  * The effect of writing to this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Hunger</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPRCHUNGE</span><span class="sc0">
  </span><span class="sc3">/**
  * How likely the NPC is to move towards bait.
  * The effect of writing to this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Step</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCSTEP</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's movement speed. A Step of 100 usually means that
  * the enemy moves at approximately one pixel per animation frame.
  * As a point of reference, the "Octorok (Magic)" enemy has
  * a step of 200. The effect of writing to this field is
  * currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">CollDetection</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCCOLLDET</span><span class="sc0">
  </span><span class="sc3">/**
  * Whether the NPC will use the system's code to work out collisions with Link
  * Initialised as 'true'.
  * If true, the npcs collision with Link and lweapons is currently turned on.
  * If false, engine collision is disable
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ASpeed</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCFRAMERATE</span><span class="sc0">
  </span><span class="sc3">/**
  * The the NPC's animation frame rate, in screen frames. The effect of
  * writing to this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawStyle</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCDRAWTYPE</span><span class="sc0">
  </span><span class="sc3">/**
  * The way the NPC is animated. Use the DS_ constants in std.zh to set or
  * compare this value. The effect of writing to this field is currently undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HP</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHP</span><span class="sc0">
  </span><span class="sc3">/**
  * The NPC's current hitpoints. A weapon with a Power of 1 removes 2
  * hitpoints.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Damage</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCDP</span><span class="sc0">
  </span><span class="sc3">/**
  * The amount of damage dealt to an unprotected Link when he touches this NPC, in
  * quarter-hearts.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">WeaponDamage</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCWDP</span><span class="sc0">
  </span><span class="sc3">/**
  * The amount of damage dealt to an unprotected Link by this NPC's weapon, in
  * quarter-hearts.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Stun</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCSTUN</span><span class="sc0">
  </span><span class="sc3">/**
  * The time, in frames, that the NPC will be stunned. Some types of enemies cannot be stunned.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">OriginalTile</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCOTILE</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of the starting tile used by this NPC.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Tile</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCTILE</span><span class="sc0">
  </span><span class="sc3">/**
  * The current tile associated with this NPC. The effect of writing to this variable is undefined.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Weapon</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCWEAPON</span><span class="sc0">
  </span><span class="sc3">/**
  * The weapon used by this enemy. Use the WPN_ constants (NOT the EW_ constants)
  * in std.zh to set or compare this value.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ItemSet</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCITEMSET</span><span class="sc0">
  </span><span class="sc3">/**
  * The items that the NPC might drop when killed. Use the IS_ constants
  * in std.zh to set or compare this value.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCCSET</span><span class="sc0">
  </span><span class="sc3">/**
  * The CSet used by this NPC.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">BossPal</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCBOSSPAL</span><span class="sc0">
  </span><span class="sc3">/**
  * The boss pallete used by this NPC; this pallete is only used if CSet
  * is 14 (the reserved boss cset). Use the BPAL_ constants in std.zh to
  * set or compare this value.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">SFX</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCBGSFX</span><span class="sc0">
  </span><span class="sc3">/**
  * The sound effects emitted by the enemy. Use the SFX_ constants in
  * std.zh to set or compare this value.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Extend</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCEXTEND</span><span class="sc0">
  </span><span class="sc3">/**
  * Whether to extend the sprite of the enemy.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileWidth</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCTXSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of tile columns composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCTYSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of tile rows composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  */</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitWidth</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHXSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The width of the sprite's hitbox, or collision rectangle.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitHeight</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHYSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The height of the sprite's hitbox, or collision rectangle.
  */</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitZHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHZSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The Z-axis height of the sprite's hitbox, or collision rectangle.
  * The greater it is, the higher Link must jump or fly over the sprite to avoid taking damage.
  * The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other. 
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitXOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHXOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The X offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's hitbox left or right.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitYOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCHYOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Y offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's hitbox up or down.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawXOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCXOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The X offset of the sprite.
  * Setting it to positive or negative values will move the sprite's tiles left or right relative to its position.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawYOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCYOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Y offset of the sprite. In non-sideview screens, this is usually -2.
  * Setting it to positive or negative values will move the sprite's tiles up or down relative to its position.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawZOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCZOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Z offset of the sprite. This is ignored unless Extend is set to values &gt;=3.
  * The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other.  
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Defense</span><span class="sc10">[];</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCDEFENSED</span><span class="sc0">
  </span><span class="sc3">/**
  * The npc's Defense values, as an array of 18 integers. Use the NPCD_ and NPCDT_ constants
  * in std.zh to set or compare these values.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Attributes</span><span class="sc10">[];</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCDD</span><span class="sc0">
  </span><span class="sc3">/**
  * The npc's Miscellaneous Attributes, as an array of fifteen integers.
  * As of 2.53.0 Release 3, these are read/write.
  * In older versions are read-only and sized to ten integers.
  * Playing a quest that writes to them in an older version of 
  * ZC Player will do nothing.
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MiscFlags</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCMFLAGS</span><span class="sc0">
  </span><span class="sc3">/**
  * The npc's Misc. Flags as 14 bits ORed together, starting with 'Damaged by Power 0 Weapons',
  * and working down the flags in the order they are shown in the Enemy Editor.
  * npc-&gt;MiscFlags is read-only; while setting it is not syntactically incorrect, it does nothing.
  * If you are not comfortable with binary operations, you can use 'GetNPCMiscFlag' from std.zh
  */</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Misc</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">NPCMISCD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 16 miscellaneous variables for you to use as you please.
  */</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">BreakShield</span><span class="sc10">();</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">BREAKSHIELD</span><span class="sc0">
  </span><span class="sc3">/**
  * Breaks the enemy's shield if it has one. This works even if the flag
  * "Hammer Can Break Shield" is not checked.
  */</span><span class="sc0">


</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">




</span><span class="sc2">//======================================
//--- Weapon Functions and Variables ---
//======================================
</span><span class="sc0">
                    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">weapon</span><span class="sc0">


  </span><span class="sc15">//! ZScript supports two different weapon classes:
</span><span class="sc0">  </span><span class="sc15">//! The lweapon class is used for Link's weapons (that damage enemies, and trigger objects)
</span><span class="sc0">  </span><span class="sc15">//! while the eweapon class is used for enemy weapons, that can damage Link.
</span><span class="sc0">  </span><span class="sc15">//!
</span><span class="sc0">  </span><span class="sc15">//! Both the lweapon, and the eweapon class have all of the following atributes:
</span><span class="sc0">  
  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">isValid</span><span class="sc10">();</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ISVALIDLWPN</span><span class="sc0">
          </span><span class="sc11">ISVALIDEWPN</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Returns whether this weapon pointer is still valid. A weapon pointer
  * becomes invalid when the weapon fades away or disappears
  * or Link leaves the screen. Accessing any variables using an
  * invalid weapon pointer prints an error message to allegro.log and
  * does nothing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">UseSprite</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">id</span><span class="sc10">);</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNUSESPRITER</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">LWPNUSESPRITEV</span><span class="sc0">
          </span><span class="sc11">EWPNUSESPRITER</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">EWPNUSESPRITEV</span><span class="sc0">

  </span><span class="sc3">/**
  * Reads a 'Weapons/Misc' sprite entry in your quest file, and assigns
  * the OriginalTile, Tile, OriginalCSet, CSet, FlashCSet, NumFrames,
  * Frame, ASpeed, Flip and Flash variables of this weapon based on
  * this entry's data. Passing negative values, and values greater than
  * 255, will do nothing.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Behind</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNBEHIND</span><span class="sc0">
          </span><span class="sc11">EWPNBEHIND</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Ensures that the weapon's graphic is drawn behind Link and enemies.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNID</span><span class="sc0">
          </span><span class="sc11">EWPNID</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's ID number. Use the LW_ or EW_ constants to compare
  * this value. The effect of writing to this field is currently undefined.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNX</span><span class="sc0">
          </span><span class="sc11">EWPNX</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's X position on the screen, in pixels. Float values passed
  * to this will be cast to int.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNY</span><span class="sc0">
          </span><span class="sc11">EWPNY</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's Y position on the screen, in pixels. Float values passed
  * to this will be cast to int.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNZ</span><span class="sc0">
          </span><span class="sc11">EWPNZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's Z position on the screen, in pixels. Float values passed
  * to this will be cast to int.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Jump</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNJUMP</span><span class="sc0">
          </span><span class="sc11">EWPNJUMP</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's falling speed on the screen. Bombs, Bait and
  * Fire obey gravity.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawStyle</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNDRAWTYPE</span><span class="sc0">
          </span><span class="sc11">EWPNDRAWTYPE</span><span class="sc0">

  </span><span class="sc3">/**
  * An integer representing how the weapon is to be drawn. Use one of the
  * DS_ constants in std.zh to set or compare this value.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">  
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Dir</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNDIR</span><span class="sc0">
          </span><span class="sc11">eWPNDIR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The direction that the weapon is facing. Used by certain weapon types
  * to determine movement, shield deflection and such.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">OriginalTile</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNOTILE</span><span class="sc0">
          </span><span class="sc11">EWPNOTILE</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The starting tile of the weapon's animation.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Tile</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNTILE</span><span class="sc0">
          </span><span class="sc11">EWPNTILE</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The current tile associated with this weapon.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">OriginalCSet</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNOCSET</span><span class="sc0">
          </span><span class="sc11">EWPNOCSET</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The starting CSet of the weapon's animation.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNCSET</span><span class="sc0">
          </span><span class="sc11">EWPNCSET</span><span class="sc0">
  
  </span><span class="sc3">/**
  * This weapon's current CSet.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">FlashCSet</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNFLASHCSET</span><span class="sc0">
          </span><span class="sc11">EWPNFLASHCSET</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The CSet used during this weapon's flash frames, if this weapon flashes.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumFrames</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNFRAMES</span><span class="sc0">
          </span><span class="sc11">EWPNFRAMES</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The number of frames in this weapon's animation.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Frame</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNFRAME</span><span class="sc0">
          </span><span class="sc11">EWPNFRAME</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's current animation frame.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ASpeed</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNASPEED</span><span class="sc0">
          </span><span class="sc11">EWPNASPEED</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The speed at which this weapon animates, in screen frames.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Damage</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNPOWER</span><span class="sc0">
          </span><span class="sc11">EWPNPOWER</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The amount of damage that this weapon causes to Link/an enemy upon contact.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Step</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNSTEP</span><span class="sc0">
          </span><span class="sc11">EWPNSTEP</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Usually associated with the weapon's velocity. A Step of 100
  * typically means that the weapon moves at approximately one pixel
  * per animation frame.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Angle</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNANGLE</span><span class="sc0">
          </span><span class="sc11">EWPNANGLE</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The weapon's current angle in clockwise radians; used by certain weapon
  * types with angular movement. 0 = right, PI/2 = down, etc. Note: if you
  * want Link's shield to interact with the weapon correctly, you must set
  * its Dir to a direction that approximates this angle.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Angular</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNANGULAR</span><span class="sc0">
          </span><span class="sc11">EWPNANGULAR</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Specifies whether a weapon has angular movement.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">CollDetection</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNCOLLDET</span><span class="sc0">
          </span><span class="sc11">EWPNCOLLDET</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Whether the weapon will use the system's code to work out collisions with
  * Link and/or enemies (depending on weapon type). Initialised as 'true'.
  * If true, the weapon collision with Link and npcs is enabled.
  * If false, engine collision is disabled.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DeadState</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNDEAD</span><span class="sc0">
          </span><span class="sc11">EWPNDEAD</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The current state of the weapon. Important to keep track of. A value of
  * -1 indicates that it is active, and moves according to the weapon's
  * Dir, Step, Angular, and Angle values. Use -1 if you want the engine to
  * handle movement and collision. Use any value below -1 if you want a
  * dummy weapon that you can control on your own.
  *
  * Given a deadstate value of -10, a weapon will turn of its collision
  * detection and movement. If it has a positive value, it will
  * decrement once per frame until it equals 0, whereupon the weapon is
  * removed. If you want to remove the weapon, write one of the WDS_
  * constants in std.zh (appropriate for the weapon) to this variable.
  *
  * Weapons with the type *_SPARKLE have a DeadState equal to the number 
  * of frames in their sprite animation, when created.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Flash</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNFLASH</span><span class="sc0">
          </span><span class="sc11">EWPNFLASH</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Whether or not the weapon flashes. A flashing weapon alternates between
  * its CSet and its FlashCSet.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Flip</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNFLIP</span><span class="sc0">
          </span><span class="sc11">EWPNFLIP</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Whether and how the weapon's tiles should be flipped.
  * 0: No flip
  * 1: Horizontal flip
  * 2: Vertical flip
  * 3: Both (180 degree rotation)
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Extend</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNEXTEND</span><span class="sc0">
          </span><span class="sc11">EWPNEXTEND</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Whether to extend the sprite of the weapon.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileWidth</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNTXSZ</span><span class="sc0">
          </span><span class="sc11">EWPNTXSZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The number of tile columns composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNTYSZ</span><span class="sc0">
          </span><span class="sc11">EWPNTYSZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The number of tile rows composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitWidth</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNHXSZ</span><span class="sc0">
          </span><span class="sc11">EWPNHXSZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The width of the sprite's hitbox, or collision rectangle.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitHeight</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNHYSZ</span><span class="sc0">
          </span><span class="sc11">WEPNHYSZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The height of the sprite's hitbox, or collision rectangle.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitZHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNHZSZ</span><span class="sc0">
          </span><span class="sc11">EWPNHZSZ</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The Z-axis height of the sprite's hitbox, or collision rectangle.
  * The greater it is, the higher Link must jump or fly over the sprite
  * The values of DrawZOffset and HitZHight are linked. Setting one, also sets the other. 
  * to avoid taking damage.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitXOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNHXOFS</span><span class="sc0">
          </span><span class="sc11">EWPNHXOFS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The X offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's
  * hitbox left or right.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitYOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNHYOFS</span><span class="sc0">
          </span><span class="sc11">EWPNHYOFS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The Y offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's
  * hitbox up or down.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawXOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNXOFS</span><span class="sc0">
          </span><span class="sc11">EWPNXOFS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The X offset of the sprite.
  * Setting it to positive or negative values will move the sprite's
  * tiles left or right relative to its position.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawYOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNYOFS</span><span class="sc0">
          </span><span class="sc11">EWPNYOFS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The Y offset of the sprite.
  * Setting it to positive or negative values will move the sprite's
  * tiles up or down relative to its position.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawZOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNZOFS</span><span class="sc0">
          </span><span class="sc11">EWPNZOFS</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The Z offset of the sprite.
  * The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other. 
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Misc</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">LWPNMISCD</span><span class="sc0">
          </span><span class="sc11">EWPNMISCD</span><span class="sc0">
  
  </span><span class="sc3">/**
  * An array of 16 miscellaneous variables for you to use as you please.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//====================================
//--- Item Functions and Variables ---
//====================================
</span><span class="sc0">
                    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0">


  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">isValid</span><span class="sc10">();</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0">
          </span><span class="sc11">ISVALIDITEM</span><span class="sc0">
  
  </span><span class="sc3">/**
  * Returns whether this item pointer is still valid. An item pointer
  * becomes invalid when Link picks up the item, the item fades away,
  * or Link leaves the screen. Accessing any variables using an
  * invalid item pointer prints an error message to allegro.log and
  * does nothing.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">X</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMX</span><span class="sc0">
  
  </span><span class="sc3">/**
  * The item's X position on the screen, in pixels. Float values passed to this will be cast to int.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">;</span><span class="sc0">        </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMY</span><span class="sc0">
  </span><span class="sc3">/**
  * The item's Y position on the screen, in pixels. Float values passed to this will be cast to int.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Jump</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMJUMP</span><span class="sc0">
          
  </span><span class="sc3">/**
  * The item's upward velocity, in pixels. If negative, the item will fall.
  * The downward acceleration of Gravity (in Init Data) modifies this value every frame.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawStyle</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMDRAWTYPE</span><span class="sc0">
  </span><span class="sc3">/**
  * An integer representing how the item is to be drawn. Use one of the
  * DS_ constants in std.zh to set or compare this value.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc10">;</span><span class="sc0">       </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMID</span><span class="sc0">
  </span><span class="sc3">/**
  * This item's ID number. Use the I_ constants to compare this value. The effect of writing to this field is currently undefined.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">OriginalTile</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMOTILE</span><span class="sc0">
  </span><span class="sc3">/**
  * The starting tile of the item's animation.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Tile</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMTILE</span><span class="sc0">
  </span><span class="sc3">/**
  * The current tile associated with this item.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMCSET</span><span class="sc0">
  </span><span class="sc3">/**
  * This item's CSet.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">FlashCSet</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMFLASHCSET</span><span class="sc0">
  </span><span class="sc3">/**
  * The CSet used during this item's flash frames, if this item flashes.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">NumFrames</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMFRAMES</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of frames in this item's animation.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Frame</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMFRAME</span><span class="sc0">
  </span><span class="sc3">/**
  * The tile that is this item's current animation frame.
  
  //! This is not returning the correct value. 
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">ASpeed</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMASPEED</span><span class="sc0">
  </span><span class="sc3">/**
  * The speed at which this item animates, in screen frames.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Delay</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMDELAY</span><span class="sc0">
  </span><span class="sc3">/**
  * The amount of time the animation is suspended after the last frame,
  * before the animation restarts, in item frames. That is, the total
  * number of screen frames of extra wait is Delay*ASpeed.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Flash</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMFLASH</span><span class="sc0">
  </span><span class="sc3">/**
  * Whether or not the item flashes. A flashing item alternates between
  * its CSet and its FlashCSet.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Flip</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMFLIP</span><span class="sc0">

  </span><span class="sc3">/**
  * Whether and how the item's tiles should be flipped.
  * 0: No flip
  * 1: Horizontal flip
  * 2: Vertical flip
  * 3: Both (180 degree rotation)
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Pickup</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMPICKUP</span><span class="sc0">
  </span><span class="sc3">/**
  * The pickup flags of the item, which determine what happens when Link
  * picks up the item. Its value consists of flags OR'd (|) together; use
  * the IP_ constants in std.zh to set or compare these values.
  * A special note about IP_ENEMYCARRIED: if the Quest Rule "Hide Enemy-
  * Carried Items" is set, then an item carried by an enemy will have its
  * X and Y values set to -128 while the enemy is carrying it. If this
  * flag is removed from such an item, then it will be moved to the enemy's
  * on-screen location.
  * If you are not comfortable with performing binary operations, use the ItemPickup functions from std.zh.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Extend</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMEXTEND</span><span class="sc0">
  </span><span class="sc3">/**
  * Whether to extend the sprite of the item.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileWidth</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc10">!</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of tile columns composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">TileHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc10">!</span><span class="sc0">
  </span><span class="sc3">/**
  * The number of tile rows composing the sprite.
  * Writing to this is ignored unless Extend is set to values &gt;=3.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitWidth</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMHSXZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The width of the sprite's hitbox, or collision rectangle.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitHeight</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMHYSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The height of the sprite's hitbox, or collision rectangle.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitZHeight</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMHXSZ</span><span class="sc0">
  </span><span class="sc3">/**
  * The Z-axis height of the sprite's hitbox, or collision rectangle.
  * The greater it is, the higher Link must jump or fly over the sprite to avoid picking up the item.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitXOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMHXOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The X offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's hitbox left or right.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">HitYOffset</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMHYOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Y offset of the sprite's hitbox, or collision rectangle.
  * Setting it to positive or negative values will move the sprite's hitbox up or down.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawXOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMXOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The X offset of the sprite.
  * Setting it to positive or negative values will move the sprite's tiles left or right relative to its position.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawYOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMYOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Y offset of the sprite.
  * Setting it to positive or negative values will move the sprite's tiles up or down relative to its position.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">DrawZOffset</span><span class="sc10">;</span><span class="sc0">    </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMZOFS</span><span class="sc0">
  </span><span class="sc3">/**
  * The Z offset of the sprite.
  * The values of DrawZOffset and HitZHeight are linked. Setting one, also sets the other. 
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">Misc</span><span class="sc10">[];</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">ITEMMISCD</span><span class="sc0">
  </span><span class="sc3">/**
  * An array of 16 miscellaneous variables for you to use as you please.
  * Note that lweapons and eweapons possess exactly the same attributes,
  * although their designation affects how they are treated by the engine.
  * The values here correspond to both the lweapon and eweapon type.
  *
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">//=========================================
//--- Itemdata Functions and Variables ---
//=========================================
</span><span class="sc0">
  </span><span class="sc15">//! You may reference itemdata variables via item scripts, using the 'this' pointer.
</span><span class="sc0">
                    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">itemdata</span><span class="sc0">


  </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">InitD</span><span class="sc10">[];</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAINITDD</span><span class="sc0">
  </span><span class="sc3">/**
  * The original values of the item's 8 'D#' input values are they are stored in the
  * .qst file, regardles of whether they have been modified by ZScript.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetName</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">[]);</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc10">!</span><span class="sc0">
  </span><span class="sc3">/**
  * Loads the item this itemdata is attributed to's name into 'buffer'
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Family</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAFAMILY</span><span class="sc0">
  </span><span class="sc3">/**
  * The kind of item to which this class belongs (swords, boomerangs,
  * potions, etc.) Use the IC_ constants in std.zh to set or compare this
  * value.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Level</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATALEVEL</span><span class="sc0">
  </span><span class="sc3">/**
  * The level of this item. Higher-level items replace lower-level items
  * when they are picked up.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Power</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAPOWER</span><span class="sc0">
  </span><span class="sc3">/**
  * The item's power, for most items this is amount of damage dealt but is
  * used for other values in some items (ie. Roc's Feather)
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Amount</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAAMOUNT</span><span class="sc0">
  </span><span class="sc3">/**
  * Corresponds to the "Increase Amount" entry in the Item Editor.
  * The value of this data member can have two meanings:
  * If Amount &amp; 0x8000 is 1, the drain counter for this item is set
  * to Amount &amp; 0x3FFF. The game then slowly fills the counter of this item
  * (see Counter below) out of the drain counter. Gaining rupees uses the
  * drain counter, for example.
  * is set to Amount when the item is picked up.
  * If Amount &amp; 0x8000 is 0, the counter of this item is increased, if
  * Amount &amp; 0x4000 is 1, or decreased, if Amount &amp; 0x4000 is 0, by
  * Amount &amp; 0x3FFF when the item is picked up.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Max</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAMAX</span><span class="sc0">
  </span><span class="sc3">/**
  * Corresponds to the "Full Max" entry in the Item Editor.
  * In conjunction with MaxIncrement (see below) this value controls how
  * the maximum value of the counter of this item (see Counter below) is
  * modified when the item is picked up. If MaxIncrement is nonzero at that
  * time, the counter's new maximum value is at that time set to the
  * minimum of its current value plus MaxIncrement, Max.
  * If Max is less than the current maximum of the counter, Max is ignored
  * and that maximum is used instead.
  * Notice that as a special case, if Max = MaxIncrement, the counter's
  * maximum value will be forced equal to Max.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MaxIncrement</span><span class="sc10">;</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATASETMAX</span><span class="sc0">
  </span><span class="sc3">/**
  * Corresponds to the "+Max" entry in the Item Editor.
  * In conjunction with Max (see above) this value controls how the
  * maximum value of the counter of this item (see Counter below) is
  * modified when the item is picked up. If MaxIncrement is nonzero at that
  * time, the counter's new maximum value is at that time set to the
  * minimum of its current value plus MaxIncrement, and Max.
  * If Max is less than the current maximum of the counter, Max is ignored
  * and that maximum is used instead.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Keep</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAKEEP</span><span class="sc0">
  </span><span class="sc3">/**
  * Corresponds to the "Equipment Item" checkbox in the Item Editor.
  * If true, Link will keep the item, and it will show up as an item or
  * equipment in the subscreen. If false, it may modify the current value
  * or maximum value of its counter (see Counter below), then disappear.
  * The White Sword and Raft, for instance, have Keep true, and keys and
  * rupees have Keep false.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">Counter</span><span class="sc10">;</span><span class="sc0">      </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATACOUNTER</span><span class="sc0">
  </span><span class="sc3">/**
  * Corresponds to the "Counter Reference" entry in the Item Editor.
  * The game counter whose current and modified values might be modified
  * when the item is picked up (see Amount, Max, and MaxIncrement above.)
  * Use the CT_ constants in std.zh to set or compare this value.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
  
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">UseSound</span><span class="sc10">;</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">IDATAUSESOUND</span><span class="sc0">

  </span><span class="sc3">/**
  * Corresponds to the "Sound" entry on the action tab in the Item Editor.
  */</span><span class="sc0"> </span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc0">#</span><span class="sc10">!</span><span class="sc0">
  

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">
</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">//////////////////////
</span><span class="sc15">/// Array Building ///
</span><span class="sc2">//////////////////////
</span><span class="sc0">

</span><span class="sc2">//////////////////////////////////////
</span><span class="sc15">/// Poke, or Peek at Memory Values ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// The following functions are used by ZScript to build arrays, and move data between the registers  ///
/// that hold them, and generally interpret the values in registers for using arrays.                 ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// When an array is declared in ZScript, the following commands are used to create it,               ///
/// and store its values:                                                                             ///
///                                                                                                   ///
/// Creating arrays (global):                                                                         ///
///                                                                                                   ///
/// int arr[16];                                                                                      ///
/// int x;                                                                                            ///
///                                                                                                   ///
/// ZASM Output:                                                                                      ///
/// ALLOCATEGMEMV d2,16 : allocates 16 indices to d2                                                  ///
/// SETR gd1,d2 : assigns the register d2 to global register gd1                                      ///
/// SETV gd2,0                                                                                        ///
///                                                                                                   ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// When an array is accessed, and the value of an index read, these instructions:                    ///
///                                                                                                   ///
/// int x;                                                                                            ///
/// int arr[16];                                                                                      ///
/// x = arr[2];                                                                                       ///
///                                                                                                   ///
/// ZASM Output:                                                                                      ///
///                                                                                                   ///
/// SETV d2,0 : Clear expression axcumulator #1                                                       ///
/// PUSHR d3 : Push expression accumulator #2                                                         ///
/// SETR d4,SP : Stack frame pointer to stack pointer.                                                ///
/// SETR d2,gd1 : Set the value of arr[] to the expression accumulator #1.                            ///
/// PUSHR d2 : Push the expression accumulaor #1                                                      ///
/// SETV d2,2 : Store the index we're reading in the expression accumulator #1                        ///
/// POP d0 : Pop the array index accumulator                                                          ///
/// SETR d1,d2 : Store the expression accumulator #1 into the secondary array index accumulator.      ///
/// SETR d2,GLOBALRAM : Read the array values into the expression accumulator #1                      ///
/// SETR gd2,d2 : Store the value of the inex into x.                                                 ///
/// SETV d3,0 : Clear the secondary expression accumulator.                                           ///
///                                                                                                   ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// When the values in an array are modified, these instructions:                                     ///
///                                                                                                   ///
/// arr[2] = 6;                                                                                       ///
///                                                                                                   ///
/// ZASM Output:                                                                                      ///
///                                                                                                   ///
/// SETV d2,0 : Clear expression accumulator #1                                                       ///
/// PUSHR d3 : Push expression accumulator #2                                                         ///
/// SETR d4,SP :  Stack frame pointer to stack pointer.                                               ///
/// SETV d2,6 : Set expression accumulator #1 to a value of 6                                         ///
/// SETR d0,gd1 : Prep the array index accumulator with the array stored in gd1                       ///
/// SETR d5,d2 : Sink the value in d2                                                                 ///
/// PUSHR d0 : Push the array index accumulator.                                                      ///
/// SETV d2,2 : Store the index to modify in The expression accumulator #1                            ///
/// POP d0 : Pop off the array index accumulator                                                      ///
/// SETR d1,d2 : Assign the value of the expression accumulator #1 to the                             ///
///        : secondary array index accumulator.                                                   ///
/// SETR GLOBALRAM,d5 : Store the value.                                                              ///
/// SETV d3,0 : Clear the expression accumulaTor #2                                                   ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// Using these, it would be possible to generate your own array handling routines.                   ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc15">/// Global arrays are allocated in the REVERSE order of DECLARATION!                                  ///
</span><span class="sc2">/////////////////////////////////////////////////////////////////////////////////////////////////////////
</span><span class="sc0">
</span><span class="sc2">// Peek at RAM value in a global address.
</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetGlobalRAM</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc10">)</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
          </span><span class="sc11">GLOBALRAMD</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">GetGlobalRAM</span><span class="sc10">(</span><span class="sc4">10</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Returns</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">gd10</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">// POKE value into Global address
</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetGlobalRAM</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">)</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">GLOBALRAMD</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">SetGlobalRAM</span><span class="sc10">(</span><span class="sc4">10</span><span class="sc10">,</span><span class="sc4">6</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">gd10</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'6'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//Peek at register value of specific script address.
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetScriptRAM</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc10">)</span><span class="sc0">     </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">SCRIPTRAMD</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">GetScriptRAM</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Returns</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">RAM</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc0"> </span><span class="sc4">4.</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc2">//POKE Vakue into Script RAM address
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetScriptRAM</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">)</span><span class="sc0">  </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
            </span><span class="sc11">SCRIPTRAMD</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">
  </span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">SetScriptRAM</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">12</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Sets</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">RAM</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'12'</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">


</span><span class="sc2">///////////////////////////////////////
</span><span class="sc15">/// Misc ZASM-Specific Instructions ///
</span><span class="sc2">///////////////////////////////////////
</span><span class="sc0">
</span><span class="sc11">GOTO</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GOTOTRUE</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GOTOFALSE</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GOTOLESS</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GOTOMORE</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">POP</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">PUSHR</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">PUSHV</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">ENQUEUER</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">ENQUEUEV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">DEQUEUE</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">GOTOR</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">LOADI</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">STOREI</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">LOOP</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">MODR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">MODV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">CHECKTRIG</span><span class="sc0">
</span><span class="sc11">COMPOUNDR</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">COMPOUNDV</span><span class="sc10">&lt;&gt;</span><span class="sc0">
</span><span class="sc11">FLIPROTTILEVV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">FLIPROTTILERR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">FLIPROTTILERV</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">
</span><span class="sc11">FLIPROTTILEVR</span><span class="sc10">&lt;&gt;&lt;&gt;</span><span class="sc0">

</span><span class="sc1">/* These may not be implemented. 
  GETTILEPIXELV&lt;&gt;
  GETTILEPIXELR&lt;&gt;
  SETTILEPIXELV&lt;&gt;
  SETTILEPIXELC&lt;&gt;
  
  SHIFTTILEVV&lt;&gt;&lt;&gt;
  SHIFTTILEVR&lt;&gt;&lt;&gt;
  SHIFTTILERR&lt;&gt;&lt;&gt;
  SHIFTTILERV&lt;&gt;&lt;&gt;
*/</span><span class="sc0"> 


</span><span class="sc1">/* Handles array data allocation.
  ALLOCATEMEMR&lt;&gt;&lt;&gt;
  ALLOCATEMEMV&lt;&gt;&lt;&gt;
  ALLOCATEMGEMR&lt;&gt;&lt;&gt;
  ALLOCATEMGEMV&lt;&gt;&lt;&gt;
*/</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Register</span><span class="sc0"> </span><span class="sc11">Reservations</span><span class="sc0">

</span><span class="sc11">Name</span><span class="sc0">    </span><span class="sc11">Register</span><span class="sc0">    </span><span class="sc11">Use</span><span class="sc0">
</span><span class="sc11">INDEX</span><span class="sc0">   </span><span class="sc11">D0</span><span class="sc0">      </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc11">accumulator</span><span class="sc0">
</span><span class="sc11">INDEX2</span><span class="sc0">    </span><span class="sc11">D1</span><span class="sc0">      </span><span class="sc11">secondary</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc11">accumulator</span><span class="sc0">
</span><span class="sc11">EXP1</span><span class="sc0">    </span><span class="sc11">D2</span><span class="sc0">      </span><span class="sc11">expression</span><span class="sc0"> </span><span class="sc11">accumulator</span><span class="sc0"> #</span><span class="sc4">1</span><span class="sc0">
</span><span class="sc11">EXP2</span><span class="sc0">    </span><span class="sc11">D3</span><span class="sc0">      </span><span class="sc11">expression</span><span class="sc0"> </span><span class="sc11">accumulator</span><span class="sc0"> #</span><span class="sc4">2</span><span class="sc0">
</span><span class="sc11">SFRAME</span><span class="sc0">    </span><span class="sc11">D4</span><span class="sc0">      </span><span class="sc11">stack</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0">
</span><span class="sc11">NUL</span><span class="sc0">   </span><span class="sc11">D5</span><span class="sc0">      </span><span class="sc5">NULL</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pure</span><span class="sc0"> </span><span class="sc11">SETR</span><span class="sc0"> </span><span class="sc11">sink</span><span class="sc0">
</span><span class="sc11">SFTEMP</span><span class="sc0">    </span><span class="sc11">D6</span><span class="sc0">      </span><span class="sc11">stack</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc0"> </span><span class="sc11">accumulator</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc11">unused</span><span class="sc0">   </span><span class="sc11">D7</span><span class="sc0">
</span><span class="sc10">*</span><span class="sc11">unused</span><span class="sc0">   </span><span class="sc11">D8</span><span class="sc0">
</span><span class="sc11">ZELDAVERSION</span><span class="sc0">  </span><span class="sc4">9</span><span class="sc0">     </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">current</span><span class="sc0"> </span><span class="sc11">ZC</span><span class="sc0"> </span><span class="sc11">version</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">SP</span><span class="sc0">    </span><span class="sc4">10</span><span class="sc0">      </span><span class="sc11">stack</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0">

    
    
</span><span class="sc2">//Unimplemented ZASM Instructions
</span><span class="sc11">GETTILEPIXEL</span><span class="sc0">
</span><span class="sc11">SETTILEPIXEL</span><span class="sc0">
</span><span class="sc11">FLIPROTATETILE</span><span class="sc0">
</span><span class="sc11">SHIFTTILE</span><span class="sc0">

</span><span class="sc2">//partially Implemented ZASM
</span><span class="sc0">
</span><span class="sc11">OVERLAYTILE</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Supports</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">-</span><span class="sc11">bit</span><span class="sc0"> </span><span class="sc11">mode</span><span class="sc0"> </span><span class="sc11">tiles</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">May</span><span class="sc0"> </span><span class="sc11">support</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">-</span><span class="sc11">bit</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">CSet</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0">

</span><span class="sc10">************************************</span><span class="sc0">
</span><span class="sc11">Misc</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0">

</span><span class="sc11">LOADI</span><span class="sc0"> </span><span class="sc11">LoadIndirect</span><span class="sc0">
</span><span class="sc11">STOREI</span><span class="sc0">  </span><span class="sc11">StoreIndirect</span><span class="sc0">


</span><span class="sc2">////////////////////
</span><span class="sc15">/// Undocumented ///
</span><span class="sc2">////////////////////
</span><span class="sc0">
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">unsupported</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">unfinished</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">.</span><span class="sc0"> 
 </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">While</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc11">them</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc11">setting</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">syntactically</span><span class="sc0"> </span><span class="sc11">incorrect</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc11">nothing</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetColorBuffer</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">amount</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc10">,</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">stride</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">    </span><span class="sc11">SETCOLORB</span><span class="sc0">

</span><span class="sc11">Opcode</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">OSetColorBufferRegister</span><span class="sc10">()</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0"> 

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetColorBuffer</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">amount</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc10">,</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">stride</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">    </span><span class="sc11">GETCOLORB</span><span class="sc0">
      
</span><span class="sc11">Opcode</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">OGetColorBufferRegister</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc11">Exaple</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">SetDepthBuffer</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">amount</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc10">,</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">stride</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">    </span><span class="sc11">SETDEPTHB</span><span class="sc0">
      
</span><span class="sc11">Opcode</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">OSetDepthBufferRegister</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">GetDepthBuffer</span><span class="sc10">(</span><span class="sc0">  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">amount</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">offset</span><span class="sc10">,</span><span class="sc0">   </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Instruction</span><span class="sc10">:</span><span class="sc0"> 
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">stride</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ptr</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">    </span><span class="sc11">GETDEPTHB</span><span class="sc0">
      
</span><span class="sc11">Opcode</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">OGetDepthBufferRegister</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc11">Example</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc3">/************************************************************************************************************/</span><span class="sc0">

</span><span class="sc11">Undocumented</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">Exclusive</span><span class="sc0">

</span><span class="sc11">FLOODFILL</span><span class="sc0">

</span><span class="sc2">//////////////////////////////////////////////
</span><span class="sc15">/// System Limitations, Minimums, Maximums ///
</span><span class="sc2">//////////////////////////////////////////////
</span><span class="sc0">
</span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">2.53.1</span><span class="sc0">

</span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">numeric</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">214747.9999</span><span class="sc0">
</span><span class="sc11">Minimum</span><span class="sc0"> </span><span class="sc11">numeric</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">214747.9999</span><span class="sc0">

</span><span class="sc11">Ints</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Floats</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Arrays</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">214747.9999</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">214747.9999</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">214748</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">214748</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">indices</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc4">214748</span><span class="sc0">

  </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">further</span><span class="sc0"> </span><span class="sc11">includes</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">leweapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">eweapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">itemdata</span><span class="sc10">.</span><span class="sc0"> 
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Same</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">based</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">214748</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">length</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">214747</span><span class="sc0"> </span><span class="sc11">characters</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc0"> </span><span class="sc11">terminator</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">required</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc10">).</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">simultaneous</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">operation</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">4095</span><span class="sc0">

</span><span class="sc11">Counters</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Tiles</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Combos</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Strings</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Tiles</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">65519</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Combos</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">65279</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Counter</span><span class="sc0"> </span><span class="sc11">Value</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">65535</span><span class="sc0">
  </span><span class="sc11">Minimum</span><span class="sc0"> </span><span class="sc11">Counter</span><span class="sc0"> </span><span class="sc11">Value</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0">
  </span><span class="sc11">Minimum</span><span class="sc0"> </span><span class="sc11">DCounter</span><span class="sc0"> </span><span class="sc11">Value</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">32768</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">DCounter</span><span class="sc0"> </span><span class="sc11">Value</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">32767</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">strings</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">editor</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc4">65519</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">
    
</span><span class="sc11">Pointers</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">Objects</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">objects</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">on</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">items</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">lweapon</span><span class="sc0"> </span><span class="sc11">objects</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">on</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">lweapons</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">eweapon</span><span class="sc0"> </span><span class="sc11">objects</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">on</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">eweapons</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc0"> </span><span class="sc11">objects</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">on</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">NPCs</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0">
  </span><span class="sc11">Number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">on</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">FFCs</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">objects</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">32</span><span class="sc0">
  </span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc11">Pointers</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">operation</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc4">4095</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">total</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">cumulative</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'object'</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">1020</span><span class="sc0"> 
    </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0"> </span><span class="sc11">each</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">lweapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">eweapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc4">32</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ffcs</span><span class="sc10">)</span><span class="sc0">

  </span><span class="sc10">--&gt;</span><span class="sc0"> </span><span class="sc11">ZC</span><span class="sc0"> </span><span class="sc11">separates</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">All</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">stored</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">vectors</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">IDs</span><span class="sc0"> </span><span class="sc11">ranging</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">255.</span><span class="sc0"> 

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc0"> </span><span class="sc11">Height</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">Screen</span><span class="sc0"> </span><span class="sc11">Object</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">npc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">weapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">32767.</span><span class="sc0"> </span><span class="sc11">Values</span><span class="sc0"> </span><span class="sc11">above</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">wrap</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">32767</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">reset</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc11">every</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">Compiler</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">constants</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc11">Unlimited</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Constants</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">converted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">their</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">compilation</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">preserved</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc10">.)</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">294</span><span class="sc10">,</span><span class="sc4">967</span><span class="sc10">,</span><span class="sc4">295</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">^</span><span class="sc4">32</span><span class="sc10">-</span><span class="sc4">1</span><span class="sc10">).</span><span class="sc0"> 
    </span><span class="sc11">Note</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">limited</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">filesystem</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">each</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">requires</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">ASCII</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">bytes</span><span class="sc10">,</span><span class="sc0"> 
    </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">stored</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">quest</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Many</span><span class="sc0"> </span><span class="sc11">filesystems</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">restricts</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">.</span><span class="sc0"> 
    </span><span class="sc11">At</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">smallest</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">max</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc11">would</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc10">~</span><span class="sc4">40GB</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">space</span><span class="sc10">.</span><span class="sc0"> 
    </span><span class="sc11">It</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">further</span><span class="sc0"> </span><span class="sc11">restricted</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">length</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Drawing</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">drawing</span><span class="sc0"> </span><span class="sc11">commands</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">1000</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">distance</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">x</span><span class="sc10">,</span><span class="sc11">y</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">drawing</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">including</span><span class="sc0"> </span><span class="sc11">off</span><span class="sc10">-</span><span class="sc11">screen</span><span class="sc0"> </span><span class="sc11">areas</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">bitmaps</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc4">214747.9999</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">214747.9999</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">X</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">Y</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc0"> </span><span class="sc11">Height</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc4">3D</span><span class="sc0"> </span><span class="sc11">Drawing</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">214747.9999</span><span class="sc0">

    </span><span class="sc10">--&gt;</span><span class="sc0"> </span><span class="sc11">Negative</span><span class="sc0"> </span><span class="sc11">Z</span><span class="sc0"> </span><span class="sc11">Height</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">effectively</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">Stack</span><span class="sc0"> </span><span class="sc11">Operation</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">concurrent</span><span class="sc0"> </span><span class="sc11">stacks</span><span class="sc10">:</span><span class="sc0"> 
  </span><span class="sc11">item</span><span class="sc10">:</span><span class="sc0">   </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">action</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">priority</span><span class="sc0"> </span><span class="sc11">over</span><span class="sc0"> </span><span class="sc11">collect</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc11">ffc</span><span class="sc10">:</span><span class="sc0">  </span><span class="sc4">32</span><span class="sc0">
  </span><span class="sc11">global</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0">

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">/</span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">operation</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">given</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">gd1</span><span class="sc10">-</span><span class="sc11">gd255</span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">simultaneous</span><span class="sc10">/</span><span class="sc11">nested</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">calls</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc4">127</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">255</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">compile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">fail</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">safe</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">closer</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">245</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">allow</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">calls</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">stack</span><span class="sc0">
  </span><span class="sc10">*</span><span class="sc11">Note</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Both</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">calls</span><span class="sc0"> </span><span class="sc11">share</span><span class="sc0"> </span><span class="sc11">registers</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">gd</span><span class="sc0"> </span><span class="sc11">registers</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">thus</span><span class="sc0"> </span><span class="sc11">cumulatively</span><span class="sc0"> </span><span class="sc11">count</span><span class="sc0">
  </span><span class="sc11">against</span><span class="sc0"> </span><span class="sc11">their</span><span class="sc0"> </span><span class="sc11">caps</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">within</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">register</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">).</span><span class="sc0"> </span><span class="sc11">See</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">ZASM_Registers</span><span class="sc0">
  
  </span><span class="sc11">Script</span><span class="sc10">-</span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">higher</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'run()'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">gd</span><span class="sc0"> </span><span class="sc11">registers</span><span class="sc10">.</span><span class="sc0"> 
  </span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">need</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">retain</span><span class="sc0"> </span><span class="sc11">free</span><span class="sc0"> </span><span class="sc11">registers</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">.</span><span class="sc0"> 

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ZASM</span><span class="sc0"> </span><span class="sc11">lines</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">214748.</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Effectively</span><span class="sc0"> </span><span class="sc11">unlimited</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">performance</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">machine</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">constrain</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc0"> 

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc11">ffc</span><span class="sc10">:</span><span class="sc0">    </span><span class="sc4">511</span><span class="sc0">
    </span><span class="sc11">itemdata</span><span class="sc10">:</span><span class="sc0">   </span><span class="sc4">255</span><span class="sc0">
    </span><span class="sc11">global</span><span class="sc10">:</span><span class="sc0">   </span><span class="sc4">4</span><span class="sc0"> 

  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">calls</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Limited</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">instructions</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">available</span><span class="sc0"> </span><span class="sc11">registers</span><span class="sc10">.</span><span class="sc0">
  </span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">local</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Effectively</span><span class="sc0"> </span><span class="sc11">unlimited</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">tied</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">see</span><span class="sc0"> </span><span class="sc11">above</span><span class="sc10">).</span><span class="sc0"> 

</span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">Type</span><span class="sc0"> </span><span class="sc11">IDs</span><span class="sc0">
  </span><span class="sc10">-</span><span class="sc4">1</span><span class="sc0">  </span><span class="sc11">none</span><span class="sc0">
  </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0">
  </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0">
  </span><span class="sc4">2</span><span class="sc0"> </span><span class="sc11">screendata</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">3</span><span class="sc0"> </span><span class="sc11">hero</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">4</span><span class="sc0"> </span><span class="sc11">itemdata</span><span class="sc0">
  </span><span class="sc4">5</span><span class="sc0"> </span><span class="sc11">lweapon</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">6</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">7</span><span class="sc0"> </span><span class="sc11">subscreen</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">8</span><span class="sc0"> </span><span class="sc11">eweapon</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">9</span><span class="sc0"> </span><span class="sc11">dmapdata</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">10</span><span class="sc0">  </span><span class="sc11">itemsprite</span><span class="sc10">*</span><span class="sc0">
  </span><span class="sc4">11</span><span class="sc0">  </span><span class="sc11">dmapdata</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">active</span><span class="sc0"> </span><span class="sc11">subscreen</span><span class="sc10">)*</span><span class="sc0">
  </span><span class="sc4">12</span><span class="sc0">  </span><span class="sc11">dmapdata</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">passive</span><span class="sc0"> </span><span class="sc11">subscreen</span><span class="sc10">)*</span><span class="sc0">
  </span><span class="sc4">13</span><span class="sc0">  </span><span class="sc11">combodata</span><span class="sc10">*</span><span class="sc0">
  
    </span><span class="sc10">*</span><span class="sc11">Not</span><span class="sc0"> </span><span class="sc11">implemented</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">version</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Maximum</span><span class="sc0"> </span><span class="sc11">Values</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">Binary</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Hex</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">Use</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">Flags</span><span class="sc0">

  </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">largest</span><span class="sc0"> </span><span class="sc11">literal</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">flag</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">110100011010111101</span><span class="sc0"> 
    </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">dec</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc4">214717</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">hex</span><span class="sc0"> </span><span class="sc4">0x346BD</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> 
  
  </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">largest</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">ones</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc4">11111111111111111</span><span class="sc0"> 
    </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">dec</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc4">131071</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">hex</span><span class="sc0"> </span><span class="sc4">0x1FFFF</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">

  </span><span class="sc11">While</span><span class="sc0"> </span><span class="sc11">these</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">certainly</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">largest</span><span class="sc0"> </span><span class="sc11">absolutely</span><span class="sc0"> </span><span class="sc11">useful</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">maximises</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">places</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0">
  </span><span class="sc11">both</span><span class="sc0"> </span><span class="sc11">binary</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">hex</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">thus</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc11">flag</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc4">65535</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">decimal</span><span class="sc10">).</span><span class="sc0"> 
  </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">becomes</span><span class="sc0"> </span><span class="sc4">1111111111111111b</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc4">0XFFFF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">means</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">each</span><span class="sc0"> </span><span class="sc11">place</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">full</span><span class="sc0"> </span><span class="sc11">potential</span><span class="sc10">,</span><span class="sc0">
  </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">times</span><span class="sc10">.</span><span class="sc0">

  </span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">useful</span><span class="sc0"> </span><span class="sc11">flags</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">width</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">-</span><span class="sc11">bit</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">represented</span><span class="sc0"> </span><span class="sc11">below</span><span class="sc10">.</span><span class="sc0">
  
    </span><span class="sc11">Max</span><span class="sc0"> </span><span class="sc11">Flag</span><span class="sc0">

    </span><span class="sc11">Binary</span><span class="sc0">               </span><span class="sc11">Hexadecimal</span><span class="sc0">    </span><span class="sc11">Decimal</span><span class="sc0">
    </span><span class="sc4">1111111111111111b</span><span class="sc0">    </span><span class="sc4">0XFFFF</span><span class="sc0">         </span><span class="sc4">65535</span><span class="sc0">


</span><span class="sc15">//! A list of all known system limitations.
</span><span class="sc0">
</span><span class="sc9">################################
## COMPILER ERROR DEFINITIONS ##
################################
</span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">generated</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">parser</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">during</span><span class="sc0"> </span><span class="sc11">compilation</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">codes</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">broken</span><span class="sc0"> </span><span class="sc11">down</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc11">P</span><span class="sc10">**</span><span class="sc0"> </span><span class="sc11">Preprocessing</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">S</span><span class="sc10">**</span><span class="sc0"> </span><span class="sc11">Symbol</span><span class="sc0"> </span><span class="sc11">table</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">T</span><span class="sc10">**</span><span class="sc0"> </span><span class="sc11">Type</span><span class="sc10">-</span><span class="sc11">checking</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">G</span><span class="sc10">**</span><span class="sc0"> </span><span class="sc11">Code</span><span class="sc0"> </span><span class="sc11">Generation</span><span class="sc0"> </span><span class="sc11">Errors</span><span class="sc0">
</span><span class="sc10">**</span><span class="sc0"> </span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc11">Errors</span><span class="sc0"> </span><span class="sc10">---</span><span class="sc11">We</span><span class="sc0"> </span><span class="sc11">need</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">these</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">A</span><span class="sc10">**</span><span class="sc0">

</span><span class="sc11">Errors</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">each</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">given</span><span class="sc0"> </span><span class="sc11">unique</span><span class="sc0"> </span><span class="sc11">numerical</span><span class="sc0"> </span><span class="sc11">identifiers</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ranging</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc4">00</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">41</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">P01</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">G33</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">letter</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">give</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">indication</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">full</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">give</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">specific</span><span class="sc0"> </span><span class="sc11">details</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">In</span><span class="sc0"> </span><span class="sc11">ZQuest</span><span class="sc0"> </span><span class="sc11">v2</span><span class="sc4">.50.2</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">later</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">report</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">generated</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">where</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc10">).</span><span class="sc0">
</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">applies</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc0"> </span><span class="sc11">caused</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc7">'global'</span><span class="sc0"> </span><span class="sc11">level</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc4">2.50.2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">later</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">without</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">likely</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">caused</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc9">#####################
## Specific Errors ##
##  Preprocessing  ##
#####################
</span><span class="sc0">
</span><span class="sc11">P00</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Can</span><span class="sc12">'t open or parse input file!
</span><span class="sc0">
</span><span class="sc11">Your</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">contains</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc0"> </span><span class="sc11">characters</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">plain</span><span class="sc0"> </span><span class="sc11">ASCII</span><span class="sc0"> </span><span class="sc11">Text</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Otherwise</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">unable</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">write</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">disk</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">disk</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">out</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">space</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Last</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">bad</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">qrong</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc0"> </span><span class="sc11">format</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">ASCII</span><span class="sc0"> </span><span class="sc11">text</span><span class="sc10">).</span><span class="sc0">

</span><span class="sc11">P01</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Failure</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">parse</span><span class="sc0"> </span><span class="sc11">imported</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Generally</span><span class="sc0"> </span><span class="sc11">means</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">trying</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">via</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc11">directive</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0">
</span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">typo</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">filename</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">path</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc11">P02</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Recursion</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc11">hit</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc11">preprocessing</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Caused</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">attempting</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">recursively</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">For</span><span class="sc0"> </span><span class="sc11">example</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc6">"script.z"</span><span class="sc0"> </span><span class="sc10">...</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc10">...</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc7">'script.z'</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">line</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc7">' import "script.z" '</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">longer</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc10">!</span><span class="sc0"> </span><span class="sc11">Recursive</span><span class="sc0"> </span><span class="sc11">imports</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">resolve</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">duplicate</span><span class="sc0"> </span><span class="sc11">finction</span><span class="sc10">/</span><span class="sc11">variable</span><span class="sc10">/</span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">declarations</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">P03</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">place</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc11">statements</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Import</span><span class="sc0"> </span><span class="sc11">directives</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc6">"file.z"</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">within</span><span class="sc0">
</span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">statement</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">P35</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">There</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">defined</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">define</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">once</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">identifier</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">constants</span><span class="sc0"> </span><span class="sc11">MUST</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">UNIQUE</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc9">#####################
## Specific Errors ##
##  Symbol Table   ##
#####################
</span><span class="sc0">
</span><span class="sc11">S04</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Function</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">was</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">parameters</span><span class="sc0"> </span><span class="sc11">twice</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">he</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">occur</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">different</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">resolve</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">difference</span><span class="sc0"> </span><span class="sc11">between</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">signatures</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">To</span><span class="sc0"> </span><span class="sc11">fix</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">remove</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">,</span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">arguments</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">parens</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">each</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">unique</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">functiona</span><span class="sc0"> </span><span class="sc11">t</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">local</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">remove</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">two</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Note</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">NOT</span><span class="sc0"> </span><span class="sc11">enough</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">distinguish</span><span class="sc0"> </span><span class="sc11">otherwise</span><span class="sc0"> </span><span class="sc11">identical</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">declarations</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc7">'int'</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc7">'float'</span><span class="sc0">
</span><span class="sc11">types</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">internally</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">/</span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">identical</span><span class="sc0"> </span><span class="sc11">insofar</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">concerned</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">two</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signatures</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">identical</span><span class="sc0"> </span><span class="sc11">except</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">parameter</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">where</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> 
</span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">parameter</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">conflict</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">There</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">two</span><span class="sc0"> </span><span class="sc11">additional</span><span class="sc0"> </span><span class="sc11">subtle</span><span class="sc0"> </span><span class="sc11">situations</span><span class="sc0"> </span><span class="sc11">where</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">might</span><span class="sc0"> </span><span class="sc11">get</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">conflict</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc4">1.</span><span class="sc0"> </span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">might</span><span class="sc0"> </span><span class="sc11">conflict</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc12">'s implicitly added to file scope 
</span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">preprocessor</span><span class="sc0"> </span><span class="sc11">because</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc11">statement</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">2.</span><span class="sc0"> </span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">might</span><span class="sc0"> </span><span class="sc11">conflict</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">reserved</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">standard</span><span class="sc0"> </span><span class="sc11">library</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">.</span><span class="sc11">zh</span><span class="sc10">).</span><span class="sc0"> 

</span><span class="sc11">S05</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Function</span><span class="sc0"> </span><span class="sc11">parameter</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">parameter</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">argument</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">g</span><span class="sc10">.:</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">var</span><span class="sc10">){</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">var</span><span class="sc10">+</span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">param</span><span class="sc0"> </span><span class="sc7">'var'</span><span class="sc0"> </span><span class="sc11">muct</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">changed</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S06</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Duplicate</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">exists</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">names</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">wholly</span><span class="sc0"> </span><span class="sc11">unique</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">For</span><span class="sc0"> </span><span class="sc11">example</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">there</span><span class="sc7">'s already an ffc script named '</span><span class="sc11">my_script</span><span class="sc12">' you cannot 
</span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc7">'my_script'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S07</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Variable</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc12">'t have type void.
</span><span class="sc0">
</span><span class="sc11">Variables</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Only</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S08</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">There</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">defined</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Variable</span><span class="sc0"> </span><span class="sc11">identifiers</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">unique</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">given</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Thus</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">my_ffc</span><span class="sc10">(){</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">){</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">v</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">w</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">10</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0.5</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">13</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">z</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">v</span><span class="sc10">+</span><span class="sc11">w</span><span class="sc10">+</span><span class="sc11">x</span><span class="sc10">+</span><span class="sc11">y</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">Trace</span><span class="sc10">(</span><span class="sc11">z</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">As</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc7">'x'</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">params</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> 
</span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">identifier</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">name</span><span class="sc10">).</span><span class="sc0">
    

</span><span class="sc11">S09</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Variable</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">undeclared</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">identifier</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">namme</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">been</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Usually</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">due</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">typo</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">var</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">val</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">X</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">var</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc11">Here</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc7">'val'</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">was</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">give</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc11">could</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">found</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">current</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">enclosing</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Keep</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">mind</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">subtleties</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc4">1.</span><span class="sc0"> </span><span class="sc11">To</span><span class="sc0"> </span><span class="sc11">access</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">different</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc12">'s global variables, or to access a global variable from within a function delcared at file scope, 
</span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">dot</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">scriptname</span><span class="sc10">.</span><span class="sc11">varname</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">2.</span><span class="sc0"> </span><span class="sc11">To</span><span class="sc0"> </span><span class="sc11">access</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">data</span><span class="sc0"> </span><span class="sc11">members</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc0"> </span><span class="sc11">associated</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">-&gt;</span><span class="sc11">varname</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc4">3.</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">uses</span><span class="sc0"> </span><span class="sc11">C</span><span class="sc10">++-</span><span class="sc11">style</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">scoping</span><span class="sc0"> </span><span class="sc11">rules</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">header</span><span class="sc0"> </span><span class="sc11">part</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> 
</span><span class="sc11">accessed</span><span class="sc0"> </span><span class="sc11">outside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">Code</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc5">for</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">=</span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">&lt;</span><span class="sc4">5</span><span class="sc10">;</span><span class="sc11">i</span><span class="sc10">++);</span><span class="sc0">
</span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">//NOT legal
</span><span class="sc0">
</span><span class="sc11">S10</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Function</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">undeclared</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">was</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">usually</span><span class="sc0"> </span><span class="sc11">due</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">either</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">typo</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">failing</span><span class="sc0">
</span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">import</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">mandatory</span><span class="sc0"> </span><span class="sc11">header</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Check</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">importing</span><span class="sc0"> </span><span class="sc7">'std.zh'</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">well</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">failing</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">result</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">slew</span><span class="sc0">
</span><span class="sc11">of</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S11</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">implement</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">().</span><span class="sc0">

</span><span class="sc11">Every</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">implement</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">empty</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">contain</span><span class="sc0"> </span><span class="sc11">arguments</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Zelda</span><span class="sc0"> </span><span class="sc11">Classic</span><span class="sc0"> </span><span class="sc11">uses</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc11">executing</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">without</span><span class="sc0">
</span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">would</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc11">nothing</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S12</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc11">s</span><span class="sc12">' run() must have return type void.
</span><span class="sc0">
</span><span class="sc11">Is</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">even</span><span class="sc0"> </span><span class="sc11">implemented</span><span class="sc10">?</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">automatic</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">never</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">unless</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">user</span><span class="sc0"> </span><span class="sc11">tries</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0">
</span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">separate</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(</span><span class="sc11">params</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">different</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S26</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Pointer</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ffc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">etc</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/* It is illegal to declare a global variable (that is, a variable in script scope) or any type other than int, float, and bool. 
Why? Recall that global variables are permanent; they persist from frame to frame, screen to screen. 
Pointer types, on the other hand, reference ffcs or items that are transitory; they become stale after a single WAITFRAME, 
so it makes no sense to try to store them for the long term.
*/</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">explanation</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">longer</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">longer</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">dereferenced</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">Waitframe</span><span class="sc10">(),</span><span class="sc0"> 
</span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">also</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">implemented</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">future</span><span class="sc0"> </span><span class="sc11">version</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc11">S30</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">method</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">once</span><span class="sc0"> </span><span class="sc11">per</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Your</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">method</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">because</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">flexibility</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> 
</span><span class="sc11">determine</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc6">"real"</span><span class="sc0"> </span><span class="sc11">entry</span><span class="sc0"> </span><span class="sc11">point</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">multiple</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">methods</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S32</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">tokens</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">itemdata</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">).</span><span class="sc0">

</span><span class="sc11">S38</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc10">-</span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc0"> </span><span class="sc11">syntax</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">deprecated</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">put</span><span class="sc0"> </span><span class="sc11">declarations</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">instead</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">outside</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Example</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(){</span><span class="sc0">
        </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">ILLEGAL</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc7">'x'</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">either</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0">
</span><span class="sc11">run</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Do</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">instead</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">active</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(){</span><span class="sc0">
        </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">creates</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">file</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">S39</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc12">'t have type void.
</span><span class="sc11">Arrays</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">itemdata</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">npc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">lweapon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">eweapon</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc0">
</span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S40</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Pointer</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ffc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">etc</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">As</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">2.50.2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">declarations</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0">
</span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">S41</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">There</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">already</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">name</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">defined</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">As</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">arrays</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">unique</span><span class="sc0"> </span><span class="sc11">identifiers</span><span class="sc0"> </span><span class="sc11">within</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc9">###################
## LEXING ERRORS ##
###################
</span><span class="sc11">L24</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Too</span><span class="sc0"> </span><span class="sc11">many</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">assembly</span><span class="sc0"> </span><span class="sc11">language</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">compiled</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">built</span><span class="sc10">-</span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">maximum</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">256</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc12">'t do anything if you exceed this limit.
</span><span class="sc0">
</span><span class="sc9">#####################
## Specific Errors ##
##  Type Checking  ##
#####################
</span><span class="sc0">
</span><span class="sc11">T13</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">id</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc12">'s not an integer.
</span><span class="sc0">
</span><span class="sc1">/* I do not know what can cause this error, or if it ever occurs. */</span><span class="sc0">

</span><span class="sc11">T14</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc11">s</span><span class="sc12">' id must be between 0 and 255.
</span><span class="sc0">
</span><span class="sc11">Occurs</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">load</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc4">256</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">given</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">given</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc1">/* The maximum number of concurrent scripts (of any given type?) is 256. */</span><span class="sc0">

</span><span class="sc11">T15</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc11">s</span><span class="sc12">' id is already in use.
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">laod</span><span class="sc0"> </span><span class="sc11">two</span><span class="sc0"> </span><span class="sc11">scripts</span><span class="sc0"> </span><span class="sc11">into</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">slot</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc1">/* I do not know if this is EVER possible. */</span><span class="sc0">

</span><span class="sc11">T16</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Cast</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">bar</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc6">"safe"</span><span class="sc0"> </span><span class="sc11">implicit</span><span class="sc0"> </span><span class="sc11">casts</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">vice</span><span class="sc10">-</span><span class="sc11">versa</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">since</span><span class="sc0"> </span><span class="sc11">they</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">),</span><span class="sc0"> 
</span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">or</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">0</span><span class="sc0"> </span><span class="sc11">becomes</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">anything</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">).</span><span class="sc0"> 
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">results</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">any</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">kind</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">cast</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">unspecified</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/*
Is this error still in effect? Casting from npc to itemdata, or others, usually results in a different error code.
Further, Cannot cast from wtf to int, is a thing.
*/</span><span class="sc0">

</span><span class="sc11">Explicit</span><span class="sc0"> </span><span class="sc11">casts</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">unimplemented</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">unnecessary</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T17</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Cannot</span><span class="sc0"> </span><span class="sc11">cast</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">bar</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">typecast</span><span class="sc0"> </span><span class="sc11">illegally</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">tyring</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">typecast</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T18</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Operand</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Occurs</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">operation</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc1">/* I do not know if this is EVER possible. */</span><span class="sc0">

</span><span class="sc11">T19</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Constant</span><span class="sc0"> </span><span class="sc11">division</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">zero</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">While</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc10">-</span><span class="sc11">folding</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">detected</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">division</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">zero</span><span class="sc0">

  </span><span class="sc11">Example</span><span class="sc10">:</span><span class="sc0"> 
  </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">MY_CONSTANT</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(){</span><span class="sc0">
      </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">;</span><span class="sc0">
      </span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">Jump</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">MY_CONSTANT</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
  </span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">Correct</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Perhaps</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">meant</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc10">?</span><span class="sc0">

</span><span class="sc11">Note</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">division</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">CONSTANT</span><span class="sc0"> </span><span class="sc11">zero</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">detected</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0"> </span><span class="sc11">compile</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">instance</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">compiles</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">generate</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">errors</span><span class="sc0"> </span><span class="sc11">during</span><span class="sc0"> </span><span class="sc11">execution</span><span class="sc10">.</span><span class="sc0"> 

  </span><span class="sc11">Example</span><span class="sc10">:</span><span class="sc0">

  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">;</span><span class="sc0">
  </span><span class="sc11">y</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">/</span><span class="sc11">x</span><span class="sc10">;</span><span class="sc0">




</span><span class="sc11">T20</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Truncation</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Constants</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">specified</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">four</span><span class="sc0"> </span><span class="sc11">places</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">decimal</span><span class="sc0"> </span><span class="sc11">precision</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">withing</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc0"> </span><span class="sc11">range</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">extra</span><span class="sc0"> </span><span class="sc11">digits</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">simply</span><span class="sc0"> </span><span class="sc11">ignored</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">issues</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">warning</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">greater</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">MAX_CONSTANT</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">less</span><span class="sc0"> </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">MIN_CONSTANT</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">result</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc9">## Applies to variables, but does not throw an error:
</span><span class="sc11">Both</span><span class="sc0"> </span><span class="sc11">floats</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">ints</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">specified</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">four</span><span class="sc0"> </span><span class="sc11">places</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">decimal</span><span class="sc0"> </span><span class="sc11">precision</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">extra</span><span class="sc0"> </span><span class="sc11">digits</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">simply</span><span class="sc0"> </span><span class="sc11">ignored</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">issues</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">warning</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Any</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">greater</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">MAX_VARIABLE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">less</span><span class="sc0"> </span><span class="sc11">then</span><span class="sc0"> </span><span class="sc11">MIN_VARIABLE</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">result</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc9">########
</span><span class="sc0">
</span><span class="sc11">T21</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Could</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">match</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">When</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">used</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">wrong</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">parameters</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">determine</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">way</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">casting</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">parameters</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">they</span><span class="sc0"> 
</span><span class="sc11">match</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">.</span><span class="sc0"> 

</span><span class="sc11">For</span><span class="sc0"> </span><span class="sc11">instance</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">snippet</span><span class="sc0">
</span><span class="sc11">Code</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">Sin</span><span class="sc10">(</span><span class="sc5">true</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc11">since</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">cast</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc16">float</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">matched</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">library</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">Sin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">triggering</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc11">T22</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Two</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc11">match</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">If</span><span class="sc0"> </span><span class="sc11">there</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">ambiguity</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">matched</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc10">,</span><span class="sc0"> 
</span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">will</span><span class="sc0"> </span><span class="sc11">attempt</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">determine</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc6">"best fit."</span><span class="sc0"> 
</span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">measures</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">however</span><span class="sc0"> </span><span class="sc11">occasionally</span><span class="sc0"> </span><span class="sc11">still</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">enough</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Consider</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">instance</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">snippet</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc11">Code</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{}</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{}</span><span class="sc0">
</span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc11">matching</span><span class="sc0"> </span><span class="sc11">either</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">two</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">declarations</span><span class="sc0"> </span><span class="sc11">requires</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">cast</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">match</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">made</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">In</span><span class="sc0"> </span><span class="sc11">contrast</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0"> </span><span class="sc11">has</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc11">Code</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{}</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">y</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{}</span><span class="sc0">
</span><span class="sc11">foo</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc10">(</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">first</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">matched</span><span class="sc10">.)</span><span class="sc0">

</span><span class="sc11">It</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">best</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">design</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">noambiguity</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">possible</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">addign</span><span class="sc0"> </span><span class="sc11">extra</span><span class="sc0"> </span><span class="sc11">params</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">signature</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> 
</span><span class="sc11">different</span><span class="sc0"> </span><span class="sc11">identifiers</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">names</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">params</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">desirable</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T23</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">All</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">statements</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">followed</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">expression</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">enclosing</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Note</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">compiler</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc11">NOT</span><span class="sc0"> </span><span class="sc11">attempt</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">verify</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">all</span><span class="sc0"> </span><span class="sc11">executions</span><span class="sc0"> </span><span class="sc11">paths</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">non</span><span class="sc10">-</span><span class="sc16">void</span><span class="sc0"> 
</span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">actually</span><span class="sc0"> </span><span class="sc11">returns</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">fail</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">undefined</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">For</span><span class="sc0"> </span><span class="sc11">instace</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">following</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">though</span><span class="sc0"> </span><span class="sc11">incorrect</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">ZScript</span><span class="sc0"> </span><span class="sc11">program</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{}</span><span class="sc0">

</span><span class="sc1">/* I don't believe anythign ever returns this error.
I've seen functions with int/float/bool types, and no returns compile, without errors. 
Perhaps we should fix this, and issue a warning during compilation? */</span><span class="sc0">

</span><span class="sc11">T25</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Constant</span><span class="sc0"> </span><span class="sc11">bitshift</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">noninteger</span><span class="sc0"> </span><span class="sc11">amount</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">truncating</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">nearest</span><span class="sc0"> </span><span class="sc11">integer</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">bitshift</span><span class="sc0"> </span><span class="sc11">operators</span><span class="sc0"> </span><span class="sc10">(&lt;&lt;</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc10">&gt;&gt;)</span><span class="sc0"> </span><span class="sc11">require</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">their</span><span class="sc0"> </span><span class="sc11">second</span><span class="sc0"> </span><span class="sc11">parameters</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">whole</span><span class="sc0"> </span><span class="sc11">integers</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T27</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Left</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">arrow</span><span class="sc0"> </span><span class="sc10">(-&gt;)</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ffc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">etc</span><span class="sc10">).</span><span class="sc0">

</span><span class="sc11">It</span><span class="sc0"> </span><span class="sc11">makes</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">sense</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">write</span><span class="sc0"> </span><span class="sc6">"x-&gt;foo"</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">dereference</span><span class="sc0"> </span><span class="sc10">(-&gt;)</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc0"> </span><span class="sc11">on</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">types</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T28</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">That</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">dereference</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc0"> </span><span class="sc10">(-&gt;)</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">being</span><span class="sc0"> </span><span class="sc11">dereferenced</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Check</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">list</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">member</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">verify</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">mistyped</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">trying</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">generally</span><span class="sc0"> </span><span class="sc11">occurs</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc11">internal</span><span class="sc0"> </span><span class="sc11">functions</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">incorrect</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">Game</span><span class="sc10">-&gt;</span><span class="sc11">Rectangle</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc11">instead</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">Screen</span><span class="sc10">-&gt;</span><span class="sc11">Rectangle</span><span class="sc10">()</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">extra</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">.</span><span class="sc11">zh</span><span class="sc0"> </span><span class="sc11">component</span><span class="sc0"> </span><span class="sc7">'shortcuts.zh'</span><span class="sc0"> </span><span class="sc11">assists</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">preventing</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc11">T29</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">That</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">use</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">dereference</span><span class="sc0"> </span><span class="sc5">operator</span><span class="sc0"> </span><span class="sc10">(-&gt;)</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">member</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">being</span><span class="sc0"> </span><span class="sc11">dereferenced</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Check</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">list</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">member</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">verify</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">mistyped</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">trying</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">call</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">generally</span><span class="sc0"> </span><span class="sc11">occurs</span><span class="sc0"> </span><span class="sc11">when</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc11">internal</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">incorrect</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc5">namespace</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">such</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc11">Link</span><span class="sc10">-&gt;</span><span class="sc11">D</span><span class="sc10">[]</span><span class="sc0"> </span><span class="sc11">instead</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">Screen</span><span class="sc10">-&gt;</span><span class="sc11">D</span><span class="sc10">[]</span><span class="sc0">

</span><span class="sc1">/* The extra std.zh component 'shortcuts.zh' assists in preventing this error type.
Probaby not, as this requires silly amounts of functions to handle variables with identical identifiers.
C'est la vie. perhaps we'll do it, but I really am not fond of the idea. */</span><span class="sc0">

</span><span class="sc11">As</span><span class="sc0"> </span><span class="sc11">above</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">member</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">access</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">T31</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">integer</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/* This has been deprecated, so who cares? */</span><span class="sc0">


</span><span class="sc11">T36</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Cannot</span><span class="sc0"> </span><span class="sc11">change</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">assign</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">CONSTANT</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">another</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">T37</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Global</span><span class="sc0"> </span><span class="sc11">variables</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">initialized</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">constants</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">globals</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">same</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">directly</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">simultaneously</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc11">at</span><span class="sc0">
</span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">scope</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">another</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">function</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Example</span><span class="sc10">:</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc10">.</span><span class="sc11">a</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">6</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">run</span><span class="sc10">(){</span><span class="sc0">
        </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">q</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">9</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">q</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">Rand</span><span class="sc10">(</span><span class="sc4">15</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc11">q</span><span class="sc10">++</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc10">++;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">ILLEGAL</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">cannot</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">variable</span><span class="sc0"> </span><span class="sc7">'x'</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">local</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0">
</span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'a'</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">ffc</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc7">'foo'</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/* I believe this is deprecated, as I do not believe that script level declarations remain legal */</span><span class="sc0">

</span><span class="sc11">T45</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">old</span><span class="sc0"> </span><span class="sc11">version</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">T38</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc11">Arrays</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">initialized</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">numerical</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">floating</span><span class="sc0"> </span><span class="sc11">point</span><span class="sc0"> </span><span class="sc11">value</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">g</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc4">10.5</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">constant</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">equation</span><span class="sc10">,</span><span class="sc0"> 
</span><span class="sc11">rather</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">numeric</span><span class="sc0"> </span><span class="sc11">literal</span><span class="sc10">.</span><span class="sc0">


    </span><span class="sc11">Consider</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">want</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc16">explicit</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'40'</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc11">These</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">ILLEGAL</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_arr</span><span class="sc10">[</span><span class="sc4">26</span><span class="sc10">+</span><span class="sc4">14</span><span class="sc10">];</span><span class="sc0">
        </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">CONSTANT</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">30</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_arr</span><span class="sc10">[</span><span class="sc11">CONSTANT</span><span class="sc10">];</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_arr</span><span class="sc10">[</span><span class="sc11">CONSTANT</span><span class="sc10">/</span><span class="sc4">2</span><span class="sc10">+</span><span class="sc4">20</span><span class="sc10">]</span><span class="sc0">
    
    </span><span class="sc11">YOu</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">arrray</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">numeric</span><span class="sc0"> </span><span class="sc11">literal</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_array</span><span class="sc10">[</span><span class="sc4">40</span><span class="sc10">];</span><span class="sc0">
        </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">legal</span><span class="sc0"> </span><span class="sc11">way</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc4">2.50.2.</span><span class="sc0">


</span><span class="sc9">#####################
## Specific Errors ##
##   @Generation   ##
#####################
</span><span class="sc0">

</span><span class="sc11">G33</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Break</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">lie</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">enclosing</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc7">'break'</span><span class="sc0"> </span><span class="sc11">keyword</span><span class="sc0"> </span><span class="sc11">aborts</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc11">statement</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">called</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc5">break</span><span class="sc0"> </span><span class="sc11">out</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc7">'break'</span><span class="sc0"> </span><span class="sc11">outside</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc11">G34</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Continue</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">lie</span><span class="sc0"> </span><span class="sc11">inside</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">enclosing</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc7">'continue'</span><span class="sc0"> </span><span class="sc11">keyword</span><span class="sc0"> </span><span class="sc11">halts</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">repeats</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">head</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">while</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc5">do</span><span class="sc0"> </span><span class="sc11">statement</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">called</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc5">continue</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">calling</span><span class="sc0"> </span><span class="sc7">'continue'</span><span class="sc0"> </span><span class="sc11">outside</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">illegal</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">As</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">above</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">continue</span><span class="sc0"> </span><span class="sc11">keyword</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Continue</span><span class="sc0"> </span><span class="sc11">aborts</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">current</span><span class="sc0"> </span><span class="sc11">iteration</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">skips</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">next</span><span class="sc0"> </span><span class="sc11">iteration</span><span class="sc10">.</span><span class="sc0">


</span><span class="sc9">##################
## Array Errors ##
##################
</span><span class="sc0">
</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">A42</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">old</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">O1</span><span class="sc10">):</span><span class="sc0"> </span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">too</span><span class="sc0"> </span><span class="sc11">small</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">Converting</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">A42</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc4">2.50.3</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">where</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0">
</span><span class="sc11">exceeds</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc16">explicit</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">[</span><span class="sc4">4</span><span class="sc10">]={</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc4">3</span><span class="sc10">,</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">5</span><span class="sc10">};</span><span class="sc0">
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc7">'4'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">five</span><span class="sc0"> </span><span class="sc11">elements</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/* THis doesn't seem right, as this seems to be covered by Err 02. Check the source to see what causes this. */</span><span class="sc0">

</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">O2</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc11">initializer</span><span class="sc0"> </span><span class="sc11">larger</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">specified</span><span class="sc0"> </span><span class="sc11">dimensions</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">Converting</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">A43</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc4">2.50.3</span><span class="sc10">)</span><span class="sc0">
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">where</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">number</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">set</span><span class="sc0">
</span><span class="sc11">exceeds</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc16">explicit</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">declaration</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">foo</span><span class="sc10">[</span><span class="sc4">4</span><span class="sc10">]={</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc4">3</span><span class="sc10">,</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc4">5</span><span class="sc10">};</span><span class="sc0">
</span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc7">'4'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">five</span><span class="sc0"> </span><span class="sc11">elements</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc11">Error</span><span class="sc0"> </span><span class="sc11">O3</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">String</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">initializer</span><span class="sc0"> </span><span class="sc11">larger</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">specified</span><span class="sc0"> </span><span class="sc11">dimensions</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">space</span><span class="sc0"> </span><span class="sc11">must</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">allocated</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc0"> </span><span class="sc11">terminator</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc10">(</span><span class="sc0"> </span><span class="sc11">Convering</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">A44</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc4">2.50.3</span><span class="sc0"> </span><span class="sc10">)</span><span class="sc0">
</span><span class="sc11">YOu</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">seclare</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">QUOTEDSTRING</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc16">explicit</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">didn</span><span class="sc10">;</span><span class="sc11">t</span><span class="sc0"> </span><span class="sc11">add</span><span class="sc0"> </span><span class="sc11">space</span><span class="sc0">
</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc0"> </span><span class="sc11">terminator</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">used</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">chars</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">allocated</span><span class="sc10">:</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_string</span><span class="sc10">[</span><span class="sc4">17</span><span class="sc10">]=</span><span class="sc6">"This is a string."</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">THis</span><span class="sc0"> </span><span class="sc11">allocates</span><span class="sc0"> </span><span class="sc11">only</span><span class="sc0"> </span><span class="sc11">enough</span><span class="sc0"> </span><span class="sc11">indices</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">chars</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc0"> </span><span class="sc11">terminator</span><span class="sc10">.</span><span class="sc0"> 
    </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">here</span><span class="sc0"> </span><span class="sc11">needs</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc4">18.</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_string</span><span class="sc10">[</span><span class="sc4">12</span><span class="sc10">]=</span><span class="sc6">"THis is a string."</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">tried</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">initialise</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">QUOTEDSTRING</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">longer</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">.</span><span class="sc0">
    </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">minimum</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc7">'18'</span><span class="sc10">.</span><span class="sc0">
    
    </span><span class="sc11">It</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">generally</span><span class="sc0"> </span><span class="sc11">best</span><span class="sc0"> </span><span class="sc11">either</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">declare</span><span class="sc0"> </span><span class="sc11">strings</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">implicit</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">set</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">initialiser</span><span class="sc10">):</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_string</span><span class="sc10">[]=</span><span class="sc6">"This is a string"</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">reads</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">nuber</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">chars</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">adds</span><span class="sc0"> </span><span class="sc11">one</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">count</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">for</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">sizes</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">18.</span><span class="sc0">
    </span><span class="sc10">...</span><span class="sc5">or</span><span class="sc10">...</span><span class="sc0">
    </span><span class="sc11">Declare</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">with</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">arbitrarily</span><span class="sc0"> </span><span class="sc11">large</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">my_string</span><span class="sc10">[</span><span class="sc4">256</span><span class="sc10">]=</span><span class="sc6">"This is a string"</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">This</span><span class="sc0"> </span><span class="sc11">reserves</span><span class="sc0"> </span><span class="sc4">256</span><span class="sc0"> </span><span class="sc11">chars</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Only</span><span class="sc0"> </span><span class="sc4">18</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">used</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">rest</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">indices</span><span class="sc0">
            </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc11">initialised</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc5">NULL</span><span class="sc10">).</span><span class="sc0"> </span><span class="sc11">YOu</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">later</span><span class="sc0"> </span><span class="sc11">populate</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">unused</span><span class="sc0"> </span><span class="sc11">space</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">desired</span><span class="sc10">.</span><span class="sc0">
            

</span><span class="sc9">#################            
## Misc Errors ##
#################
</span><span class="sc0">
</span><span class="sc11">FATAL</span><span class="sc0"> </span><span class="sc11">FATAL</span><span class="sc0"> </span><span class="sc11">ERROR</span><span class="sc0"> </span><span class="sc11">I0</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">bad</span><span class="sc0"> </span><span class="sc11">internal</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0">
</span><span class="sc11">A</span><span class="sc0"> </span><span class="sc11">fallback</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc11">no</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">type</span><span class="sc0"> </span><span class="sc11">matches</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">problem</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc1">/* I have no idea what causes this. Be afraid, very afraid. */</span><span class="sc0">

</span><span class="sc1">/* OTHER ERRORS 
Document any further error codes here.
We need to convert the array errors from raw numeric, to A** codes. 
*/</span><span class="sc0">

</span><span class="sc9">########################
## OPERATIONAL ERRORS ##
###################################################################################################
## These errors occur only during the operation of script execution (i.e. when running a script, ##
## in Zelda Classic while playing a quest).                                                      ##
## --------------------------------------------------------------------------------------------- ##
## In ZC versions 2.50.2, and later, operational script errors will return the ID of the script  ##
## from which they were generated.                                                               ##
################################################################################################### 
</span><span class="sc0">
</span><span class="sc15">//! These errors will be reported to allegro.log (or the ZConsole) when scripts run.
</span><span class="sc0">


</span><span class="sc2">////////////////////
</span><span class="sc15">/// Stack Errors ///
</span><span class="sc2">////////////////////
</span><span class="sc0">
  </span><span class="sc6">"Stack over or underflow, stack pointer = %ld\n"</span><span class="sc0">
  
</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">!?</span><span class="sc0"> </span><span class="sc11">How</span><span class="sc0"> </span><span class="sc11">should</span><span class="sc0"> </span><span class="sc11">I</span><span class="sc0"> </span><span class="sc11">describe</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">give</span><span class="sc0"> </span><span class="sc11">examples</span><span class="sc10">?</span><span class="sc0">

  </span><span class="sc6">"Invalid ZASM command %ld reached\n"</span><span class="sc0">

</span><span class="sc11">Stack</span><span class="sc0"> </span><span class="sc11">instruction</span><span class="sc0"> </span><span class="sc11">countber</span><span class="sc0"> </span><span class="sc11">reached</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">exceeded</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">The</span><span class="sc0"> </span><span class="sc11">stack</span><span class="sc0"> </span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">so</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc12">'s maximum value is 65536.
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">isused</span><span class="sc0"> </span><span class="sc11">more</span><span class="sc0"> </span><span class="sc11">instructiosn</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">frame</span><span class="sc0"> </span><span class="sc11">than</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">instructon</span><span class="sc0"> </span><span class="sc11">counter</span><span class="sc0"> </span><span class="sc11">can</span><span class="sc0"> </span><span class="sc11">ahndle</span><span class="sc10">.</span><span class="sc0"> </span><span class="sc11">Look</span><span class="sc0"> </span><span class="sc11">through</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">code</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> 
</span><span class="sc11">something</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">be</span><span class="sc0"> </span><span class="sc11">doing</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">.</span><span class="sc0">

</span><span class="sc2">////////////////////
</span><span class="sc15">/// Array Errors ///
</span><span class="sc2">////////////////////
</span><span class="sc0">
  </span><span class="sc6">"Invalid value (%i) passed to '%s'\n"</span><span class="sc0">
  </span><span class="sc6">"Invalid index (%ld) to local array of size %ld\n"</span><span class="sc0">
  
</span><span class="sc11">You</span><span class="sc0"> </span><span class="sc11">attempted</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">either</span><span class="sc0"> </span><span class="sc11">too</span><span class="sc0"> </span><span class="sc11">small</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">too</span><span class="sc0"> </span><span class="sc11">large</span><span class="sc10">.</span><span class="sc0"> 
</span><span class="sc11">Check</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">size</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc11">your</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc11">again</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Perhaps</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">or</span><span class="sc0"> </span><span class="sc11">other</span><span class="sc0"> </span><span class="sc11">loop</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">parsing</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc11">trying</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">read</span><span class="sc0"> </span><span class="sc11">beyond</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">index</span><span class="sc0"> </span><span class="sc11">ranges</span><span class="sc10">.</span><span class="sc0">


  </span><span class="sc6">"Invalid pointer (%i) passed to array (don't change the values of your array pointers)\n"</span><span class="sc0">

</span><span class="sc11">Array</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc11">values</span><span class="sc0"> </span><span class="sc11">in</span><span class="sc0"> </span><span class="sc11">operation</span><span class="sc0"> </span><span class="sc11">are</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc0"> </span><span class="sc11">through</span><span class="sc0"> </span><span class="sc4">4095</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc0"> </span><span class="sc5">and</span><span class="sc0"> </span><span class="sc4">4096</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc4">8164</span><span class="sc10">?</span><span class="sc0"> </span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">declared</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">pointers</span><span class="sc0"> </span><span class="sc10">?).</span><span class="sc0">
</span><span class="sc11">An</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">of</span><span class="sc0"> </span><span class="sc7">'0'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">nor</span><span class="sc0"> </span><span class="sc11">may</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc11">which</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc0"> </span><span class="sc11">pointer</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">exist</span><span class="sc10">.</span><span class="sc0">
</span><span class="sc11">Often</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc0"> </span><span class="sc11">error</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">caused</span><span class="sc0"> </span><span class="sc11">by</span><span class="sc0"> </span><span class="sc11">attempting</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">an</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">that</span><span class="sc0"> </span><span class="sc11">you</span><span class="sc0"> </span><span class="sc11">created</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">without</span><span class="sc0"> </span><span class="sc11">updating</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">saved</span><span class="sc0"> </span><span class="sc11">game</span><span class="sc0"> </span><span class="sc11">slot</span><span class="sc0">
</span><span class="sc11">as</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">old</span><span class="sc0"> </span><span class="sc11">save</span><span class="sc0"> </span><span class="sc11">does</span><span class="sc0"> </span><span class="sc5">not</span><span class="sc0"> </span><span class="sc11">have</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">array</span><span class="sc0"> </span><span class="sc11">allocated</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">but</span><span class="sc0"> </span><span class="sc11">the</span><span class="sc0"> </span><span class="sc11">script</span><span class="sc0"> </span><span class="sc11">is</span><span class="sc0"> </span><span class="sc11">attempting</span><span class="sc0"> </span><span class="sc11">to</span><span class="sc0"> </span><span class="sc11">reference</span><span class="sc0"> </span><span class="sc11">its</span><span class="sc0"> </span><span class="sc11">global</span><span class="sc0"> </span><span class="sc11">ID</span><span class="sc10">.</span><span class="sc0">

  </span><span class="sc6">"Script tried to deallocate memory at invalid address %ld\n"</span><span class="sc0">
  </span><span class="sc6">"Script tried to deallocate memory that was not allocated at address %ld\n"</span><span class="sc0">

</span><span class="sc1">/* Script attempted to change the value of an array index // that does not exist // due to the inability to declare an array
because too many registers are in use?


  "You were trying to reference an out-of-bounds array index for a screen's D[] array (%ld); valid indices are from 0 to 7.\n"
You attempted to read, or write to a Screen-&gt;D[register] that was less than 1, or greater than 10.
Check for loops, and vriables that read/write to Screen-&gt;D for any that can fall outside the legal range.

  "Array initialized to invalid size of %d\n"
You attempted to init array to a size less than 1, or a size greater than 214747, or;
You attempted to init array with a constant, a variable, a formula, or with a floating point value.
Arrays may ONLY be initialised with numeric literals (integers only) between 1 and 214747. 
  
  "%d local arrays already in use, no more can be allocated\n", MAX_ZCARRAY_SIZE-1);
The maximum number of arrays in operation at one time is 4095.
  
"Invalid pointer value of %ld passed to global allocate\n"
  !

/////////////////////////////
/// Object Pointer Errors ///
/////////////////////////////

  "Invalid NPC with UID %ld passed to %s\nNPCs on screen have UIDs "
  "Invalid item with UID %ld passed to %s\nItems on screen have UIDs "
  "Invalid lweapon with UID %ld passed to %s\nLWeapons on screen have UIDs "
  "Invalid eweapon with UID %ld passed to %s\nEWeapons on screen have UIDs "
  
  "Script attempted to reference a nonexistent NPC!\n"
  "You were trying to reference the %s of an NPC with UID = %ld; NPC on screen are UIDs "

  "Script attempted to reference a nonexistent item!\n"
  "You were trying to reference an item with UID = %ld; Items on screen are UIDs: "

  "Script attempted to reference a nonexistent LWeapon!\n"
  "You were trying to reference the %s of an LWeapon with UID = %ld; LWeapons on screen are UIDs "
        
  "Script attempted to reference a nonexistent EWeapon!\n"
  "You were trying to reference the %s of an EWeapon with UID = %ld; EWeapons on screen are UIDs "

You attempted to reference a game object that has a maximum legal range of 1 to 255. 
It is possible that you tried to read outside that range, or that the pointer that you were loading is not valid.
Check NumItems(), NumLWeapons(), NumEWeapons(0, and NumNPCs() before referencing them; and verify that the object -&gt;IsValid()
Check for loops that may attempt ro reference items outside of the range that actually exist.
Look for any for loops that access these objects, that start, or end at zero.

The best way to ensure this does not occur, is to make a for loop as follows:

  for ( int q = 1; q &lt; Screen-&gt;NumLWeapons; q++ )

      //or//

  for ( int q = Screen-&gt;NumLWeapons(); q &gt; 0; q-- ) 

...replacing NumLWeapons() withthe appropriate type that you are attempting to load.

You may be attempting to refrence a pointer that has fallen out of scope.
You may be attempting to reference a pointer that is no longer valid, or has been removed.
Check ( pinter-&gt;IsValid() ) by itself, to ensure this does not occur:

    if ( pointer-&gt;IsValid ) {
      if ( pointer-&gt;ID == LW_FIRE ) //Do things.
    }
  
This helps to prevent loading invalid pointers.

////////////////////////////////
/// Maths and Logical Errors ///
////////////////////////////////

"Script attempted to divide %ld by zero!\n"
"Script attempted to modulo %ld by zero!\n"
  
"Script attempted to pass %ld into ArcSin!\n"
"Script attempted to pass %ld into ArcCos!\n"
"Script tried to calculate log of 0\n"
"Script tried to calculate log of %f\n"
"Script tried to calculate ln of 0\n"
"Script tried to calculate ln of %f\n"
"Script attempted to calculate 0 to the power 0!\n"
"Script attempted to calculate square root of %ld!\n"
  
Look for scripts that pass a variable into these functions, or use a variable in a mathematical operation, that 
may be zero at any point, and correct it to ensure that it is never zero, or that it is never illegal for the type of 
mathematical operation you wish to perform.

Chweck for any hardcoded values, or constants that are in use with these functions that may be illegal, or irrational.

////////////////////////////////
/// System Limitation Errors ///
////////////////////////////////
  
"Couldn't create lweapon %ld, screen lweapon limit reached\n"
"Couldn't create eweapon %ld, screen eweapon limit reached\n"
"Couldn't create item \"%s\", screen item limit reached\n"
"Couldn't create NPC \"%s\", screen NPC limit reached\n"
    
You may create a maximum of 255 of any one object type on the screen at any one time.
Look for anything that is generating extra pointers, and add a statement such as:
  if ( Screen-&gt;NumNPCs() &lt; 255 ) 
    
  "Max draw primitive limit reached\n"
The maximum number of drawing function calls, per frame, is 1,000.
    
/////////////////////
/// String Errors ///
/////////////////////

  "Array supplied to 'Game-&gt;GetDMapMusicFilename' not large enough\n"
  "Array supplied to 'Game-&gt;GetSaveName' not large enough\n"
  "String supplied to 'Game-&gt;GetSaveName' too large\n"
  "Array supplied to 'Game-&gt;GetMessage' not large enough\n"
  "Array supplied to 'Game-&gt;GetDMapName' not large enough\n"
  "Array supplied to 'Game-&gt;GetDMapTitle' not large enough\n"
  "Array supplied to 'Game-&gt;GetDMapIntro' not large enough\n"
  "Array supplied to 'itemdata-&gt;GetName' not large enough\n"
  "Array supplied to 'npc-&gt;GetName' not large enough\n"

The buffer for these actions must be equal to the size of the text to load into it, plus one, for NULL.

If you wish to load a game name, with Game-&gt;LoadSaveName(), and the name on the file select is FOO, you must 
supply a buffer with a size of [4] to hold it. (Three chars in the name, plus one for NULL.)

////////////////////
/// Misc. Errors ///
////////////////////

  "Waitdraw can only be used in the active global script\n"
You attempted to call Waitdrw() in an ffc script, or an item script; or in your global OnContinue, 
global OnExit, or ~Init scripts.
You may only use the Waitdraw() function from a global active script.

  "No other scripts are currently supported\n"
? You should never see this. May indicate that you have attempted to load more scripts than ZC can handle.


  "Invalid value (%i) passed to '%s'\n"
!? WHat should we put here?
    
  "Global scripts currently have no A registers\n"
This error can only occur if you are coding ZASM, and attempt to utilise an Address register with a global script.
    
////////////////////////
/// Script Reporting ///
////////////////////////
    
    //Events that will be recorded if Quest Rule 'Log Game Events to Allegro.log' is enabled:
    
"Script created lweapon %ld with UID = %ld\n"
"Script created eweapon %ld with UID = %ld\n"
"Script created item \"%s\" with UID = %ld\n"
"Script created NPC \"%s\" with UID = %ld\n"

When any new game object is generated by script, and reporting is enabled, the lweapon, and the name of the
script that generated it, will be reported to allegro.log.


///////////////////////////
/// Documentation Staff ///
///////////////////////////

ZScript documentation generated, and maintained by:
DarkDragon (retired)
Gleeok
Saffith
ZoriaRPG</span></div></body>
</html>
